/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var t={168:(t,e,n)=>{const r=n(874),i={};for(const t of Object.keys(r))i[r[t]]=t;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=o;for(const t of Object.keys(o)){if(!("channels"in o[t]))throw new Error("missing channels property: "+t);if(!("labels"in o[t]))throw new Error("missing channel labels property: "+t);if(o[t].labels.length!==o[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=o[t];delete o[t].channels,delete o[t].labels,Object.defineProperty(o[t],"channels",{value:e}),Object.defineProperty(o[t],"labels",{value:n})}o.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=o-i;let a,u;o===i?a=0:e===o?a=(n-r)/s:n===o?a=2+(r-e)/s:r===o&&(a=4+(e-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const l=(i+o)/2;return u=o===i?0:l<=.5?s/(o+i):s/(2-o-i),[a,100*u,100*l]},o.rgb.hsv=function(t){let e,n,r,i,o;const s=t[0]/255,a=t[1]/255,u=t[2]/255,l=Math.max(s,a,u),c=l-Math.min(s,a,u),h=function(t){return(l-t)/6/c+.5};return 0===c?(i=0,o=0):(o=c/l,e=h(s),n=h(a),r=h(u),s===l?i=r-n:a===l?i=1/3+e-r:u===l&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},o.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=o.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,100*s,100*r]},o.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r);return[100*((1-e-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(t){const e=i[t];if(e)return e;let n,o=1/0;for(const e of Object.keys(r)){const i=(a=r[e],((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);i<o&&(o=i,n=e)}var s,a;return n},o.keyword.rgb=function(t){return r[t]},o.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;return e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},o.rgb.lab=function(t){const e=o.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];return n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*r-16,500*(n-r),200*(r-i)]},o.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,o,s;if(0===n)return s=255*r,[s,s,s];i=r<.5?r*(1+n):r+n-r*n;const a=2*r-i,u=[0,0,0];for(let t=0;t<3;t++)o=e+1/3*-(t-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a,u[t]=255*s;return u},o.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const o=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),(r+n)/2*100]},o.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),s=255*r*(1-n),a=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,s];case 1:return[a,r,s];case 2:return[s,r,u];case 3:return[s,a,r];case 4:return[u,s,r];case 5:return[r,s,a]}},o.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let o,s;s=(2-n)*r;const a=(2-n)*i;return o=n*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,100*o,100*s]},o.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const s=Math.floor(6*e),a=1-r;o=6*e-s,0!=(1&s)&&(o=1-o);const u=n+o*(a-n);let l,c,h;switch(s){default:case 6:case 0:l=a,c=u,h=n;break;case 1:l=u,c=a,h=n;break;case 2:l=n,c=a,h=u;break;case 3:l=n,c=u,h=a;break;case 4:l=u,c=n,h=a;break;case 5:l=a,c=n,h=u}return[255*l,255*c,255*h]},o.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,o,s;return i=3.2406*e+-1.5372*n+-.4986*r,o=-.9689*e+1.8758*n+.0415*r,s=.0557*e+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*i,255*o,255*s]},o.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];return e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(e-n),200*(n-r)]},o.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const i=n**3,o=e**3,s=r**3;return n=i>.008856?i:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},o.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;return i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360),[e,Math.sqrt(n*n+r*r),i]},o.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let s=null===e?o.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},o.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},o.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),o=Math.min(Math.min(e,n),r),s=i-o;let a,u;return a=s<1?o/(1-s):0,u=s<=0?0:i===e?(n-r)/s%6:i===n?2+(r-e)/s:4+(e-n)/s,u/=6,u%=1,[360*u,100*s,100*a]},o.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},o.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},o.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=e%1*6,s=o%1,a=1-s;let u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-n)*r,[255*(n*i[0]+u),255*(n*i[1]+u),255*(n*i[2]+u)]},o.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},o.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},o.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},o.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=function(t){return[0,0,t[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},85:(t,e,n)=>{const r=n(168),i=n(111),o={};Object.keys(r).forEach((t=>{o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});const e=i(t);Object.keys(e).forEach((n=>{const r=e[n];o[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,e=0;e<t;e++)r[e]=Math.round(r[e]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),o[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)}))})),t.exports=o},111:(t,e,n)=>{const r=n(168);function i(t,e){return function(n){return e(t(n))}}function o(t,e){const n=[e[t].parent,t];let o=r[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),o=i(r[e[s].parent][s],o),s=e[s].parent;return o.conversion=n,o}t.exports=function(t){const e=function(t){const e=function(){const t={},e=Object.keys(r);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),i=Object.keys(r[t]);for(let r=i.length,o=0;o<r;o++){const r=i[o],s=e[r];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,n.unshift(r))}}return e}(t),n={},i=Object.keys(e);for(let t=i.length,r=0;r<t;r++){const t=i[r];null!==e[t].parent&&(n[t]=o(t,e))}return n}},874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},818:(t,e,n)=>{var r=n(874),i=n(851),o=Object.hasOwnProperty,s=Object.create(null);for(var a in r)o.call(r,a)&&(s[r[a]]=a);var u=t.exports={to:{},get:{}};function l(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}u.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=u.get.hsl(t),n="hsl";break;case"hwb":e=u.get.hwb(t),n="hwb";break;default:e=u.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},u.get.rgb=function(t){if(!t)return null;var e,n,i,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var a=2*n;s[n]=parseInt(e.slice(a,a+2),16)}i&&(s[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)s[n]=parseInt(e[n]+e[n],16);i&&(s[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)s[n]=parseInt(e[n+1],0);e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?((s=r[e[1]])[3]=1,s):null:null;for(n=0;n<3;n++)s[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}for(n=0;n<3;n++)s[n]=l(s[n],0,255);return s[3]=l(s[3],0,1),s},u.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},u.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},u.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},u.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},u.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},u.to.keyword=function(t){return s[t.slice(0,3)]}},767:(t,e,n)=>{const r=n(818),i=n(85),o=["keyword","gray","hex"],s={};for(const t of Object.keys(i))s[[...i[t].labels].sort().join("")]=t;const a={};function u(t,e){if(!(this instanceof u))return new u(t,e);if(e&&e in o&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);let n,l;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof u)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=r.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,l=i[this.model].channels,this.color=e.value.slice(0,l),this.valpha="number"==typeof e.value[l]?e.value[l]:1}else if(t.length>0){this.model=e||"rgb",l=i[this.model].channels;const n=Array.prototype.slice.call(t,0,l);this.color=d(n,l),this.valpha="number"==typeof t[l]?t[l]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const r=e.sort().join("");if(!(r in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[r];const{labels:o}=i[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=d(a)}if(a[this.model])for(l=i[this.model].channels,n=0;n<l;n++){const t=a[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}u.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in r.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return r.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=i[this.model],{labels:n}=i[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new u([...this.color.map(l(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new u([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(95.047)),y:c("xyz",1,h(100)),z:c("xyz",2,h(108.833)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword(t){return void 0!==t?new u(t):i[this.model].keyword(this.color)},hex(t){return void 0!==t?new u(t):r.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new u(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const t=r/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return u.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,l=1-a;return u.rgb(a*n.red()+l*r.red(),a*n.green()+l*r.green(),a*n.blue()+l*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const t of Object.keys(i)){if(o.includes(t))continue;const{channels:e}=i[t];u.prototype[t]=function(...e){return this.model===t?new u(this):e.length>0?new u(e,t):new u([...(n=i[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},u[t]=function(...n){let r=n[0];return"number"==typeof r&&(r=d(n,e)),new u(r,t)}}function l(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function c(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(a[r]||(a[r]=[]))[e]=n;return t=t[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),i=this[t](),i.color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}t.exports=u},171:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},851:(t,e,n)=>{"use strict";var r=n(171),i=Array.prototype.concat,o=Array.prototype.slice,s=t.exports=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var a=t[n];r(a)?e=i.call(e,o.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!t;)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";n.p})(),(()=>{"use strict";var t;const e="undefined"==typeof window?n.g:window,r=e.performance&&(()=>e.performance.now())||(()=>Date.now()),i=e.requestAnimationFrame||(t=>setTimeout((()=>t(r())),1e3/60)),o=e.cancelAnimationFrame||clearTimeout;function s(t){return t[t.length-1]}const a=(t,e)=>t<0?e+t:t;function u(t,e){const n={...t};for(const r in e){const i=t[r],o=e[r];i!==o&&(i&&o&&"object"==typeof i&&"object"==typeof o&&!Array.isArray(o)?n[r]=u(i,o):n[r]=o)}return n}let l=0;function c(){return l++,l}function h(t){return t.reduce(((t,e)=>e+t),0)/t.length}function d(t){const e=t.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(e)){let t=e.substring(1).split("");3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);const n=`${t.join("")}`;return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:1}}const n=e.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10),a:parseFloat(n[4]||1,10)};throw new Error(`Invalid color: ${t}`)}function p(t,e){const n={};for(let r=0;r<e;r++)n[r]=t;return n}function f(t,e){const n={};for(let r=0;r<t;r++)n[r]=e(r);return n}const g=(null===(t=e.navigator)||void 0===t?void 0:t.userAgent)||"",m=g.indexOf("MSIE ")>0||g.indexOf("Trident/")>0||g.indexOf("Edge/")>0,v=()=>{};class y{constructor(t,e,n=v){this._mutationChains=[],this._onStateChange=n,this.state={options:{drawingFadeDuration:e.drawingFadeDuration,drawingWidth:e.drawingWidth,drawingColor:d(e.drawingColor),strokeColor:d(e.strokeColor),outlineColor:d(e.outlineColor),radicalColor:d(e.radicalColor||e.strokeColor),highlightColor:d(e.highlightColor)},character:{main:{opacity:e.showCharacter?1:0,strokes:{}},outline:{opacity:e.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(let e=0;e<t.strokes.length;e++)this.state.character.main.strokes[e]={opacity:1,displayPortion:1},this.state.character.outline.strokes[e]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[e]={opacity:0,displayPortion:1}}overwriteOnStateChange(t){this._onStateChange=t}updateState(t){const e=u(this.state,t);this._onStateChange(e,this.state),this.state=e}run(t,e={}){const n=t.map((t=>t.scope));return this.cancelMutations(n),new Promise((r=>{const i={_isActive:!0,_index:0,_resolve:r,_mutations:t,_loop:e.loop,_scopes:n};this._mutationChains.push(i),this._run(i)}))}_run(t){if(!t._isActive)return;const e=t._mutations;if(t._index>=e.length){if(!t._loop)return t._isActive=!1,this._mutationChains=this._mutationChains.filter((e=>e!==t)),void t._resolve({canceled:!1});t._index=0}t._mutations[t._index].run(this).then((()=>{t._isActive&&(t._index++,this._run(t))}))}_getActiveMutations(){return this._mutationChains.map((t=>t._mutations[t._index]))}pauseAll(){this._getActiveMutations().forEach((t=>t.pause()))}resumeAll(){this._getActiveMutations().forEach((t=>t.resume()))}cancelMutations(t){for(const e of this._mutationChains)for(const n of e._scopes)for(const r of t)(n.startsWith(r)||r.startsWith(n))&&this._cancelMutationChain(e)}cancelAll(){this.cancelMutations([""])}_cancelMutationChain(t){var e;t._isActive=!1;for(let e=t._index;e<t._mutations.length;e++)t._mutations[e].cancel(this);null===(e=t._resolve)||void 0===e||e.call(t,{canceled:!0}),this._mutationChains=this._mutationChains.filter((e=>e!==t))}}const b=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),_=t=>Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),E=(t,e)=>_(b(t,e)),C=(t,e=1)=>{const n=10*e;return{x:Math.round(n*t.x)/n,y:Math.round(n*t.y)/n}},S=t=>{let e=t[0];return t.slice(1).reduce(((t,n)=>{const r=E(n,e);return e=n,t+r}),0)},T=(t,e,n)=>{const r=b(e,t),i=n/_(r);return{x:e.x+i*r.x,y:e.y+i*r.y}},A=t=>{const e=((t,e=30)=>{const n=S(t)/(e-1),r=[t[0]],i=s(t),o=t.slice(1);for(let t=0;t<e-2;t++){let t=s(r),e=n,i=!1;for(;!i;){const n=E(t,o[0]);if(n<e)e-=n,t=o.shift();else{const s=T(t,o[0],e-n);r.push(s),i=!0}}}return r.push(i),r})(t),n={x:h(e.map((t=>t.x))),y:h(e.map((t=>t.y)))},r=e.map((t=>b(t,n))),i=Math.sqrt(h([Math.pow(r[0].x,2)+Math.pow(r[0].y,2),Math.pow(s(r).x,2)+Math.pow(s(r).y,2)]));return((t,e=.05)=>{const n=t.slice(0,1);for(const r of t.slice(1)){const t=n[n.length-1],i=E(r,t);if(i>e){const o=Math.ceil(i/e),s=i/o;for(let e=0;e<o;e++)n.push(T(r,t,-1*s*(e+1)))}else n.push(r)}return n})(r.map((t=>({x:t.x/i,y:t.y/i}))))};function I(t,e=!1){const n=C(t[0]),r=t.slice(1);let i=`M ${n.x} ${n.y}`;return r.forEach((t=>{const e=C(t);i+=` L ${e.x} ${e.y}`})),e&&(i+="Z"),i}const w=(t,e)=>{const n=(t=>{if(t.length<3)return t;const e=[t[0],t[1]];return t.slice(2).forEach((t=>{const n=e.length,r=b(t,e[n-1]),i=b(e[n-1],e[n-2]);r.y*i.x-r.x*i.y==0&&e.pop(),e.push(t)})),e})(t);if(n.length<2)return n;const r=n[1],i=n[0],o=T(r,i,e),s=n.slice(1);return s.unshift(o),s};class k{constructor(t,e,n,r=!1){this.path=t,this.points=e,this.strokeNum=n,this.isInRadical=r}getStartingPoint(){return this.points[0]}getEndingPoint(){return this.points[this.points.length-1]}getLength(){return S(this.points)}getVectors(){let t=this.points[0];return this.points.slice(1).map((e=>{const n=b(e,t);return t=e,n}))}getDistance(t){const e=this.points.map((e=>E(e,t)));return Math.min(...e)}getAverageDistance(t){return t.reduce(((t,e)=>t+this.getDistance(e)),0)/t.length}}class L{constructor(t,e){this.symbol=t,this.strokes=e}}const[R,O]=[{x:0,y:-124},{x:1024,y:900}],D=O.x-R.x,P=O.y-R.y;class x{constructor(t){const{padding:e,width:n,height:r}=t;this.padding=e,this.width=n,this.height=r;const i=n-2*e,o=r-2*e,s=i/D,a=o/P;this.scale=Math.min(s,a);const u=e+(i-this.scale*D)/2,l=e+(o-this.scale*P)/2;this.xOffset=-1*R.x*this.scale+u,this.yOffset=-1*R.y*this.scale+l}convertExternalPoint(t){return{x:(t.x-this.xOffset)/this.scale,y:(this.height-this.yOffset-t.y)/this.scale}}}const N=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16],M=(t,e,n)=>{const{leniency:r=1,isOutlineVisible:i=!1,checkBackwards:o=!0}=n,s=e.getAverageDistance(t),a=s<=350*(i||e.strokeNum>0?.5:1)*r;if(!a)return{isMatch:!1,avgDist:s,meta:{isStrokeBackwards:!1}};const u=((t,e,n)=>{const r=E(e.getStartingPoint(),t[0]),i=E(e.getEndingPoint(),t[t.length-1]);return r<=250*n&&i<=250*n})(t,e,r),l=((t,e)=>{const n=(t=>{const e=[];let n=t[0];return t.slice(1).forEach((t=>{e.push(b(t,n)),n=t})),e})(t),r=e.getVectors();return h(n.map((t=>{const e=r.map((e=>{return r=t,((n=e).x*r.x+n.y*r.y)/_(n)/_(r);var n,r}));return Math.max(...e)})))>0})(t,e),c=((t,e,n)=>{const r=A(t),i=A(e);let o=1/0;return N.forEach((t=>{const e=((t,e)=>{const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t,i=(t,e,i,o)=>{if(0===t&&0===e)return E(n[0],r[0]);if(t>0&&0===e)return Math.max(i[0],E(n[t],r[0]));const s=o[o.length-1];return 0===t&&e>0?Math.max(s,E(n[0],r[e])):Math.max(Math.min(i[e],i[e-1],s),E(n[t],r[e]))};let o=[];for(let t=0;t<n.length;t++){const e=[];for(let n=0;n<r.length;n++)e.push(i(t,n,o,e));o=e}return o[r.length-1]})(r,((t,e)=>t.map((t=>({x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}))))(i,t));e<o&&(o=e)})),o<=.4*n})(t,e.points,r),d=((t,e,n)=>n*(S(t)+25)/(e.getLength()+25)>=.35)(t,e,r),p=a&&u&&l&&c&&d;return o&&!p&&M([...t].reverse(),e,{...n,checkBackwards:!1}).isMatch?{isMatch:p,avgDist:s,meta:{isStrokeBackwards:!0}}:{isMatch:p,avgDist:s,meta:{isStrokeBackwards:!1}}};class F{constructor(t,e,n){this.id=t,this.points=[e],this.externalPoints=[n]}appendPoint(t,e){this.points.push(t),this.externalPoints.push(e)}}class H{constructor(t,e,n={}){this._tick=t=>{if(null!==this._startPauseTime)return;const e=Math.min(1,(t-this._startTime-this._pausedDuration)/this._duration);if(1===e)this._renderState.updateState(this._values),this._frameHandle=void 0,this.cancel(this._renderState);else{const t=U(e),n=B(this._startState,this._values,t);this._renderState.updateState(n),this._frameHandle=i(this._tick)}},this.scope=t,this._valuesOrCallable=e,this._duration=n.duration||0,this._force=n.force,this._pausedDuration=0,this._startPauseTime=null}run(t){return this._values||this._inflateValues(t),0===this._duration&&t.updateState(this._values),0===this._duration||V(t.state,this._values)?Promise.resolve():(this._renderState=t,this._startState=t.state,this._startTime=performance.now(),this._frameHandle=i(this._tick),new Promise((t=>{this._resolve=t})))}_inflateValues(t){let e=this._valuesOrCallable;"function"==typeof this._valuesOrCallable&&(e=this._valuesOrCallable(t.state)),this._values=function(t,e){const n=t.split("."),r={};let i=r;for(let t=0;t<n.length;t++){const r=t===n.length-1?e:{};i[n[t]]=r,i=r}return r}(this.scope,e)}pause(){null===this._startPauseTime&&(this._frameHandle&&o(this._frameHandle),this._startPauseTime=performance.now())}resume(){null!==this._startPauseTime&&(this._frameHandle=i(this._tick),this._pausedDuration+=performance.now()-this._startPauseTime,this._startPauseTime=null)}cancel(t){var e;null===(e=this._resolve)||void 0===e||e.call(this),this._resolve=void 0,o(this._frameHandle||-1),this._frameHandle=void 0,this._force&&(this._values||this._inflateValues(t),t.updateState(this._values))}}function B(t,e,n){const r={};for(const i in e){const o=e[i],s=null==t?void 0:t[i];r[i]="number"==typeof s&&"number"==typeof o&&o>=0?n*(o-s)+s:B(s,o,n)}return r}function V(t,e){for(const n in e){const r=e[n],i=null==t?void 0:t[n];if(r>=0){if(r!==i)return!1}else if(!V(i,r))return!1}return!0}H.Delay=class{constructor(t){this._duration=t,this._startTime=null,this._paused=!1,this.scope=`delay.${t}`}run(){return this._startTime=r(),this._runningPromise=new Promise((t=>{this._resolve=t,this._timeout=setTimeout((()=>this.cancel()),this._duration)})),this._runningPromise}pause(){if(this._paused)return;const t=performance.now()-(this._startTime||0);this._duration=Math.max(0,this._duration-t),clearTimeout(this._timeout),this._paused=!0}resume(){this._paused&&(this._startTime=performance.now(),this._timeout=setTimeout((()=>this.cancel()),this._duration),this._paused=!1)}cancel(){clearTimeout(this._timeout),this._resolve&&this._resolve(),this._resolve=void 0}};const U=t=>-Math.cos(t*Math.PI)/2+.5,j=(t,e,n)=>[new H(`character.${t}.strokes`,p({opacity:1,displayPortion:1},e.strokes.length),{duration:n,force:!0})],z=(t,e,n)=>[new H(`character.${t}`,{opacity:1,strokes:p({opacity:1,displayPortion:1},e.strokes.length)},{duration:n,force:!0})],W=(t,e,n)=>[new H(`character.${t}.opacity`,0,{duration:n,force:!0}),...j(t,e,0)],q=(t,e,n)=>[new H(`options.${t}`,e,{duration:n})],$=(t,e,n)=>{const r=t.strokeNum,i=(t.getLength()+600)/(3*n);return[new H("options.highlightColor",e),new H("character.highlight",{opacity:1,strokes:{[r]:{displayPortion:0,opacity:0}}}),new H(`character.highlight.strokes.${r}`,{displayPortion:1,opacity:1},{duration:i}),new H(`character.highlight.strokes.${r}.opacity`,0,{duration:i,force:!0})]},G=(t,e,n)=>{const r=e.strokeNum,i=(e.getLength()+600)/(3*n);return[new H(`character.${t}`,{opacity:1,strokes:{[r]:{displayPortion:0,opacity:1}}}),new H(`character.${t}.strokes.${r}.displayPortion`,1,{duration:i})]},X=(t,e,n,r,i)=>{let o=W(t,e,n);return o=o.concat(j(t,e,0)),o.push(new H(`character.${t}`,{opacity:1,strokes:p({opacity:0},e.strokes.length)},{force:!0})),e.strokes.forEach(((e,n)=>{n>0&&o.push(new H.Delay(i)),o=o.concat(G(t,e,r))})),o},K=(t,e)=>[new H(`userStrokes.${t}.opacity`,0,{duration:e}),new H(`userStrokes.${t}`,null,{force:!0})];class Y{constructor(t,e,n){this._currentStrokeIndex=0,this._mistakesOnStroke=0,this._totalMistakes=0,this._character=t,this._renderState=e,this._isActive=!1,this._positioner=n}startQuiz(t){this._isActive=!0,this._options=t;const e=a(t.quizStartStrokeNum,this._character.strokes.length);return this._currentStrokeIndex=Math.min(e,this._character.strokes.length-1),this._mistakesOnStroke=0,this._totalMistakes=0,this._renderState.run((n=this._character,r=t.strokeFadeDuration,i=this._currentStrokeIndex,[...W("main",n,r),new H("character.highlight",{opacity:1,strokes:p({opacity:0},n.strokes.length)},{force:!0}),new H("character.main",{opacity:1,strokes:f(n.strokes.length,(t=>({opacity:t<i?1:0})))},{force:!0})]));var n,r,i}startUserStroke(t){if(!this._isActive)return null;if(this._userStroke)return this.endUserStroke();const e=this._positioner.convertExternalPoint(t),n=c();return this._userStroke=new F(n,e,t),this._renderState.run(((t,e)=>[new H("quiz.activeUserStrokeId",t,{force:!0}),new H(`userStrokes.${t}`,{points:[e],opacity:1},{force:!0})])(n,e))}continueUserStroke(t){if(!this._userStroke)return Promise.resolve();const e=this._positioner.convertExternalPoint(t);this._userStroke.appendPoint(e,t);const n=this._userStroke.points.slice(0);return this._renderState.run((r=this._userStroke.id,[new H(`userStrokes.${r}.points`,n,{force:!0})]));var r}setPositioner(t){this._positioner=t}endUserStroke(){var t;if(!this._userStroke)return;if(this._renderState.run(K(this._userStroke.id,null!==(t=this._options.drawingFadeDuration)&&void 0!==t?t:300)),1===this._userStroke.points.length)return void(this._userStroke=void 0);const{acceptBackwardsStrokes:e,markStrokeCorrectAfterMisses:n}=this._options,r=this._getCurrentStroke(),{isMatch:i,meta:o}=function(t,e,n,r={}){const i=e.strokes,o=(t=>{if(t.length<2)return t;const[e,...n]=t,r=[e];for(const t of n)i=t,o=r[r.length-1],(i.x!==o.x||i.y!==o.y)&&r.push(t);var i,o;return r})(t.points);if(o.length<2)return{isMatch:!1,meta:{isStrokeBackwards:!1}};const{isMatch:s,meta:a,avgDist:u}=M(o,i[n],r);if(!s)return{isMatch:s,meta:a};const l=i.slice(n+1);let c=u;for(let t=0;t<l.length;t++){const{isMatch:e,avgDist:n}=M(o,l[t],{...r,checkBackwards:!1});e&&n<c&&(c=n)}if(c<u){const t=.6*(c+u)/(2*u),{isMatch:e,meta:s}=M(o,i[n],{...r,leniency:(r.leniency||1)*t});return{isMatch:e,meta:s}}return{isMatch:s,meta:a}}(this._userStroke,this._character,this._currentStrokeIndex,{isOutlineVisible:this._renderState.state.character.outline.opacity>0,leniency:this._options.leniency}),s=n&&this._mistakesOnStroke+1>=n;if(i||s||o.isStrokeBackwards&&e)this._handleSuccess(o);else{this._handleFailure(o);const{showHintAfterMisses:t,highlightColor:e,strokeHighlightSpeed:n}=this._options;!1!==t&&this._mistakesOnStroke>=t&&this._renderState.run($(r,d(e),n))}this._userStroke=void 0}cancel(){this._isActive=!1,this._userStroke&&this._renderState.run(K(this._userStroke.id,this._options.drawingFadeDuration))}_getStrokeData({isCorrect:t,meta:e}){return{character:this._character.symbol,strokeNum:this._currentStrokeIndex,mistakesOnStroke:this._mistakesOnStroke,totalMistakes:this._totalMistakes,strokesRemaining:this._character.strokes.length-this._currentStrokeIndex-(t?1:0),drawnPath:(n=this._userStroke,{pathString:I(n.externalPoints),points:n.points.map((t=>C(t)))}),isBackwards:e.isStrokeBackwards};var n}_handleSuccess(t){if(!this._options)return;const{strokes:e,symbol:n}=this._character,{onCorrectStroke:r,onComplete:i,highlightOnComplete:o,strokeFadeDuration:s,highlightCompleteColor:a,highlightColor:u,strokeHighlightDuration:l}=this._options;null==r||r({...this._getStrokeData({isCorrect:!0,meta:t})});let c=("main",h=this._currentStrokeIndex,[new H(`character.main.strokes.${h}`,{displayPortion:1,opacity:1},{duration:s,force:!0})]);var h,p,f,g;this._mistakesOnStroke=0,this._currentStrokeIndex+=1,this._currentStrokeIndex===e.length&&(this._isActive=!1,null==i||i({character:n,totalMistakes:this._totalMistakes}),o&&(c=c.concat((p=this._character,f=d(a||u),g=2*(l||0),[new H("options.highlightColor",f),...W("highlight",p),...z("highlight",p,g/2),...W("highlight",p,g/2)])))),this._renderState.run(c)}_handleFailure(t){var e,n;this._mistakesOnStroke+=1,this._totalMistakes+=1,null===(e=(n=this._options).onMistake)||void 0===e||e.call(n,this._getStrokeData({isCorrect:!1,meta:t}))}_getCurrentStroke(){return this._character.strokes[this._currentStrokeIndex]}}function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e,n){t.setAttributeNS(null,e,n)}function Z(t,e){Object.keys(e).forEach((n=>J(t,n,e[n])))}function tt(t){var e;null==t||null===(e=t.parentNode)||void 0===e||e.removeChild(t)}class et{constructor(t){this.stroke=t,this._pathLength=t.getLength()+et.STROKE_WIDTH/2}_getStrokeDashoffset(t){return.999*this._pathLength*(1-t)}_getColor({strokeColor:t,radicalColor:e}){return e&&this.stroke.isInRadical?e:t}}et.STROKE_WIDTH=200;class nt extends et{constructor(t){super(t),this._oldProps=void 0}mount(t){this._animationPath=Q("path"),this._clip=Q("clipPath"),this._strokePath=Q("path");const e=`mask-${c()}`;J(this._clip,"id",e),J(this._strokePath,"d",this.stroke.path),this._animationPath.style.opacity="0",J(this._animationPath,"clip-path",function(t){let e="";return window.location&&window.location.href&&(e=window.location.href.replace(/#[^#]*$/,"").replace(/"/gi,"%22")),`url("${e}#${t}")`}(e));const n=w(this.stroke.points,100);return J(this._animationPath,"d",I(n)),Z(this._animationPath,{stroke:"#FFFFFF","stroke-width":200..toString(),fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":`${this._pathLength},${this._pathLength}`}),this._clip.appendChild(this._strokePath),t.defs.appendChild(this._clip),t.svg.appendChild(this._animationPath),this}render(t){var e,n;if(t===this._oldProps||!this._animationPath)return;t.displayPortion!==(null===(e=this._oldProps)||void 0===e?void 0:e.displayPortion)&&(this._animationPath.style.strokeDashoffset=this._getStrokeDashoffset(t.displayPortion).toString());const r=this._getColor(t);if(!this._oldProps||r!==this._getColor(this._oldProps)){const{r:t,g:e,b:n,a:i}=r;Z(this._animationPath,{stroke:`rgba(${t},${e},${n},${i})`})}t.opacity!==(null===(n=this._oldProps)||void 0===n?void 0:n.opacity)&&(this._animationPath.style.opacity=t.opacity.toString()),this._oldProps=t}}class rt{constructor(t){this._oldProps=void 0,this._strokeRenderers=t.strokes.map((t=>new nt(t)))}mount(t){const e=t.createSubRenderTarget();this._group=e.svg,this._strokeRenderers.forEach((t=>{t.mount(e)}))}render(t){var e,n;if(t===this._oldProps||!this._group)return;const{opacity:r,strokes:i,strokeColor:o,radicalColor:s=null}=t;var a;r!==(null===(e=this._oldProps)||void 0===e?void 0:e.opacity)&&(this._group.style.opacity=r.toString(),m||(0===r?this._group.style.display="none":0===(null===(a=this._oldProps)||void 0===a?void 0:a.opacity)&&this._group.style.removeProperty("display")));const u=!this._oldProps||o!==this._oldProps.strokeColor||s!==this._oldProps.radicalColor;if(u||i!==(null===(n=this._oldProps)||void 0===n?void 0:n.strokes))for(let t=0;t<this._strokeRenderers.length;t++){var l;!u&&null!==(l=this._oldProps)&&void 0!==l&&l.strokes&&i[t]===this._oldProps.strokes[t]||this._strokeRenderers[t].render({strokeColor:o,radicalColor:s,opacity:i[t].opacity,displayPortion:i[t].displayPortion})}this._oldProps=t}}class it{constructor(){this._oldProps=void 0}mount(t){this._path=Q("path"),t.svg.appendChild(this._path)}render(t){var e,n,r,i;if(this._path&&t!==this._oldProps){if(t.strokeColor!==(null===(e=this._oldProps)||void 0===e?void 0:e.strokeColor)||t.strokeWidth!==(null===(n=this._oldProps)||void 0===n?void 0:n.strokeWidth)){const{r:e,g:n,b:r,a:i}=t.strokeColor;Z(this._path,{fill:"none",stroke:`rgba(${e},${n},${r},${i})`,"stroke-width":t.strokeWidth.toString(),"stroke-linecap":"round","stroke-linejoin":"round"})}t.opacity!==(null===(r=this._oldProps)||void 0===r?void 0:r.opacity)&&J(this._path,"opacity",t.opacity.toString()),t.points!==(null===(i=this._oldProps)||void 0===i?void 0:i.points)&&J(this._path,"d",I(t.points)),this._oldProps=t}}destroy(){tt(this._path)}}class ot{constructor(t){this.node=t}addPointerStartListener(t){this.node.addEventListener("mousedown",(e=>{t(this._eventify(e,this._getMousePoint))})),this.node.addEventListener("touchstart",(e=>{t(this._eventify(e,this._getTouchPoint))}))}addPointerMoveListener(t){this.node.addEventListener("mousemove",(e=>{t(this._eventify(e,this._getMousePoint))})),this.node.addEventListener("touchmove",(e=>{t(this._eventify(e,this._getTouchPoint))}))}addPointerEndListener(t){document.addEventListener("mouseup",t),document.addEventListener("touchend",t)}getBoundingClientRect(){return this.node.getBoundingClientRect()}updateDimensions(t,e){this.node.setAttribute("width",`${t}`),this.node.setAttribute("height",`${e}`)}_eventify(t,e){return{getPoint:()=>e.call(this,t),preventDefault:()=>t.preventDefault()}}_getMousePoint(t){const{left:e,top:n}=this.getBoundingClientRect();return{x:t.clientX-e,y:t.clientY-n}}_getTouchPoint(t){const{left:e,top:n}=this.getBoundingClientRect();return{x:t.touches[0].clientX-e,y:t.touches[0].clientY-n}}}class st extends ot{constructor(t,e){super(t),this.svg=t,this.defs=e,"createSVGPoint"in t&&(this._pt=t.createSVGPoint())}static init(t,e="100%",n="100%"){const r="string"==typeof t?document.getElementById(t):t;if(!r)throw new Error(`HanziWriter target element not found: ${t}`);const i=r.nodeName.toUpperCase(),o=(()=>{if("SVG"===i||"G"===i)return r;{const t=Q("svg");return r.appendChild(t),t}})();Z(o,{width:e,height:n});const s=Q("defs");return o.appendChild(s),new st(o,s)}createSubRenderTarget(){const t=Q("g");return this.svg.appendChild(t),new st(t,this.defs)}_getMousePoint(t){if(this._pt&&(this._pt.x=t.clientX,this._pt.y=t.clientY,"getScreenCTM"in this.node)){var e;const t=this._pt.matrixTransform(null===(e=this.node.getScreenCTM())||void 0===e?void 0:e.inverse());return{x:t.x,y:t.y}}return super._getMousePoint.call(this,t)}_getTouchPoint(t){if(this._pt&&(this._pt.x=t.touches[0].clientX,this._pt.y=t.touches[0].clientY,"getScreenCTM"in this.node)){var e;const t=this._pt.matrixTransform(null===(e=this.node.getScreenCTM())||void 0===e?void 0:e.inverse());return{x:t.x,y:t.y}}return super._getTouchPoint(t)}}var at={HanziWriterRenderer:class{constructor(t,e){this._character=t,this._positioner=e,this._mainCharRenderer=new rt(t),this._outlineCharRenderer=new rt(t),this._highlightCharRenderer=new rt(t),this._userStrokeRenderers={}}mount(t){const e=t.createSubRenderTarget(),n=e.svg,{xOffset:r,yOffset:i,height:o,scale:s}=this._positioner;J(n,"transform",`translate(${r}, ${o-i}) scale(${s}, ${-1*s})`),this._outlineCharRenderer.mount(e),this._mainCharRenderer.mount(e),this._highlightCharRenderer.mount(e),this._positionedTarget=e}render(t){const{main:e,outline:n,highlight:r}=t.character,{outlineColor:i,radicalColor:o,highlightColor:s,strokeColor:a,drawingWidth:u,drawingColor:l}=t.options;this._outlineCharRenderer.render({opacity:n.opacity,strokes:n.strokes,strokeColor:i}),this._mainCharRenderer.render({opacity:e.opacity,strokes:e.strokes,strokeColor:a,radicalColor:o}),this._highlightCharRenderer.render({opacity:r.opacity,strokes:r.strokes,strokeColor:s});const c=t.userStrokes||{};for(const t in this._userStrokeRenderers){var h;c[t]||(null===(h=this._userStrokeRenderers[t])||void 0===h||h.destroy(),delete this._userStrokeRenderers[t])}for(const t in c){const e=c[t];if(!e)continue;const n={strokeWidth:u,strokeColor:l,...e};(()=>{if(this._userStrokeRenderers[t])return this._userStrokeRenderers[t];const e=new it;return e.mount(this._positionedTarget),this._userStrokeRenderers[t]=e,e})().render(n)}}destroy(){tt(this._positionedTarget.svg),this._positionedTarget.defs.innerHTML=""}},createRenderTarget:st.init};const ut=(t,e)=>{t.beginPath();const n=e[0],r=e.slice(1);t.moveTo(n.x,n.y);for(const e of r)t.lineTo(e.x,e.y);t.stroke()};class lt extends et{constructor(t,e=!0){super(t),e&&Path2D?this._path2D=new Path2D(this.stroke.path):this._pathCmd=(t=>{const e=this.stroke.path.split(/(^|\s+)(?=[A-Z])/).filter((t=>" "!==t)),n=[t=>t.beginPath()];for(const t of e){const[e,...r]=t.split(/\s+/),i=r.map((t=>parseFloat(t)));"M"===e?n.push((t=>t.moveTo(...i))):"L"===e?n.push((t=>t.lineTo(...i))):"C"===e?n.push((t=>t.bezierCurveTo(...i))):"Q"===e&&n.push((t=>t.quadraticCurveTo(...i)))}return t=>n.forEach((e=>e(t)))})(),this._extendedMaskPoints=w(this.stroke.points,et.STROKE_WIDTH/2)}render(t,e){if(e.opacity<.05)return;var n;t.save(),this._path2D?t.clip(this._path2D):(null===(n=this._pathCmd)||void 0===n||n.call(this,t),t.globalAlpha=0,t.stroke(),t.clip());const{r,g:i,b:o,a:s}=this._getColor(e),a=1===s?`rgb(${r},${i},${o})`:`rgb(${r},${i},${o},${s})`,u=this._getStrokeDashoffset(e.displayPortion);t.globalAlpha=e.opacity,t.strokeStyle=a,t.fillStyle=a,t.lineWidth=et.STROKE_WIDTH,t.lineCap="round",t.lineJoin="round",t.setLineDash([this._pathLength,this._pathLength],u),t.lineDashOffset=u,ut(t,this._extendedMaskPoints),t.restore()}}class ct{constructor(t){this._strokeRenderers=t.strokes.map((t=>new lt(t)))}render(t,e){if(e.opacity<.05)return;const{opacity:n,strokeColor:r,radicalColor:i,strokes:o}=e;for(let e=0;e<this._strokeRenderers.length;e++)this._strokeRenderers[e].render(t,{strokeColor:r,radicalColor:i,opacity:o[e].opacity*n,displayPortion:o[e].displayPortion||0})}}function ht(t,e){if(e.opacity<.05)return;const{opacity:n,strokeWidth:r,strokeColor:i,points:o}=e,{r:s,g:a,b:u,a:l}=i;t.save(),t.globalAlpha=n,t.lineWidth=r,t.strokeStyle=`rgba(${s},${a},${u},${l})`,t.lineCap="round",t.lineJoin="round",ut(t,o),t.restore()}class dt extends ot{constructor(t){super(t)}static init(t,e="100%",n="100%"){const r="string"==typeof t?document.getElementById(t):t;if(!r)throw new Error(`HanziWriter target element not found: ${t}`);const i=r.nodeName.toUpperCase(),o=(()=>{if("CANVAS"===i)return r;const t=document.createElement("canvas");return r.appendChild(t),t})();return o.setAttribute("width",e),o.setAttribute("height",n),new dt(o)}getContext(){return this.node.getContext("2d")}}var pt={HanziWriterRenderer:class{constructor(t,e){this.destroy=v,this._character=t,this._positioner=e,this._mainCharRenderer=new ct(t),this._outlineCharRenderer=new ct(t),this._highlightCharRenderer=new ct(t)}mount(t){this._target=t}_animationFrame(t){const{width:e,height:n,scale:r,xOffset:i,yOffset:o}=this._positioner,s=this._target.getContext();s.clearRect(0,0,e,n),s.save(),s.translate(i,n-o),s.transform(1,0,0,-1,0,0),s.scale(r,r),t(s),s.restore(),s.draw&&s.draw()}render(t){const{outline:e,main:n,highlight:r}=t.character,{outlineColor:i,strokeColor:o,radicalColor:s,highlightColor:a,drawingColor:u,drawingWidth:l}=t.options;this._animationFrame((c=>{this._outlineCharRenderer.render(c,{opacity:e.opacity,strokes:e.strokes,strokeColor:i}),this._mainCharRenderer.render(c,{opacity:n.opacity,strokes:n.strokes,strokeColor:o,radicalColor:s}),this._highlightCharRenderer.render(c,{opacity:r.opacity,strokes:r.strokes,strokeColor:a});const h=t.userStrokes||{};for(const t in h){const e=h[t];e&&ht(c,{strokeWidth:l,strokeColor:u,...e})}}))}},createRenderTarget:dt.init};const ft={charDataLoader:(t,e,n)=>{const r=new XMLHttpRequest;r.overrideMimeType&&r.overrideMimeType("application/json"),r.open("GET",(t=>`https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/${t}.json`)(t),!0),r.onerror=t=>{n(r,t)},r.onreadystatechange=()=>{4===r.readyState&&(200===r.status?e(JSON.parse(r.responseText)):0!==r.status&&n&&n(r))},r.send(null)},onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:0,height:0,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,markStrokeCorrectAfterMisses:!1,acceptBackwardsStrokes:!1,quizStartStrokeNum:0,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};class gt{constructor(t){this._loadCounter=0,this._isLoading=!1,this.loadingFailed=!1,this._options=t}_debouncedLoad(t,e){const n=t=>{var n;e===this._loadCounter&&(null===(n=this._resolve)||void 0===n||n.call(this,t))},r=t=>{var n;e===this._loadCounter&&(null===(n=this._reject)||void 0===n||n.call(this,t))},i=this._options.charDataLoader(t,n,r);i&&("then"in i?i.then(n).catch(r):n(i))}_setupLoadingPromise(){return new Promise(((t,e)=>{this._resolve=t,this._reject=e})).then((t=>{var e,n;return this._isLoading=!1,null===(e=(n=this._options).onLoadCharDataSuccess)||void 0===e||e.call(n,t),t})).catch((t=>{if(this._isLoading=!1,this.loadingFailed=!0,this._options.onLoadCharDataError)return void this._options.onLoadCharDataError(t);if(t instanceof Error)throw t;const e=new Error(`Failed to load char data for ${this._loadingChar}`);throw e.reason=t,e}))}loadCharData(t){this._loadingChar=t;const e=this._setupLoadingPromise();return this.loadingFailed=!1,this._isLoading=!0,this._loadCounter++,this._debouncedLoad(t,this._loadCounter),e}}class mt{constructor(t,e={}){const{HanziWriterRenderer:n,createRenderTarget:r}="canvas"===e.renderer?pt:at,i=e.rendererOverride||{};this._renderer={HanziWriterRenderer:i.HanziWriterRenderer||n,createRenderTarget:i.createRenderTarget||r},this.target=this._renderer.createRenderTarget(t,e.width,e.height),this._options=this._assignOptions(e),this._loadingManager=new gt(this._options),this._setupListeners()}static create(t,e,n){const r=new mt(t,n);return r.setCharacter(e),r}static loadCharacterData(t,e={}){const n=(()=>{const{_loadingManager:n,_loadingOptions:r}=mt;return(null==n?void 0:n._loadingChar)===t&&r===e?n:new gt({...ft,...e})})();return mt._loadingManager=n,mt._loadingOptions=e,n.loadCharData(t)}static getScalingTransform(t,e,n=0){const r=new x({width:t,height:e,padding:n});return{x:r.xOffset,y:r.yOffset,scale:r.scale,transform:(i=`\n        translate(${r.xOffset}, ${r.height-r.yOffset})\n        scale(${r.scale}, ${-1*r.scale})\n      `,i.replace(/^\s+/,"").replace(/\s+$/,"")).replace(/\s+/g," ")};var i}showCharacter(t={}){return this._options.showCharacter=!0,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(z("main",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}hideCharacter(t={}){return this._options.showCharacter=!1,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(W("main",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}animateCharacter(t={}){return this.cancelQuiz(),this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(X("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}animateStroke(t,e={}){return this.cancelQuiz(),this._withData((()=>{var n;return null===(n=this._renderState)||void 0===n?void 0:n.run(((t,e,n,r)=>{const i=e.strokes[n];return[new H(`character.${t}`,(n=>{const r=n.character[t],i={opacity:1,strokes:{}};for(let t=0;t<e.strokes.length;t++)i.strokes[t]={opacity:r.opacity*r.strokes[t].opacity};return i})),...G(t,i,r)]})("main",this._character,a(t,this._character.strokes.length),this._options.strokeAnimationSpeed)).then((t=>{var n;return null===(n=e.onComplete)||void 0===n||n.call(e,t),t}))}))}highlightStroke(t,e={}){return this._withData((()=>{var n,r;if(this._character&&this._renderState)return this._renderState.run($((n=this._character.strokes,r=t,n[a(r,n.length)]),d(this._options.highlightColor),this._options.strokeHighlightSpeed)).then((t=>{var n;return null===(n=e.onComplete)||void 0===n||n.call(e,t),t}))}))}async loopCharacterAnimation(){return this.cancelQuiz(),this._withData((()=>this._renderState.run(((t,e,n,r,i,o)=>{const s=X("main",e,n,r,i);return s.push(new H.Delay(o)),s})(0,this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes,this._options.delayBetweenLoops),{loop:!0})))}pauseAnimation(){return this._withData((()=>{var t;return null===(t=this._renderState)||void 0===t?void 0:t.pauseAll()}))}resumeAnimation(){return this._withData((()=>{var t;return null===(t=this._renderState)||void 0===t?void 0:t.resumeAll()}))}showOutline(t={}){return this._options.showOutline=!0,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(z("outline",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}hideOutline(t={}){return this._options.showOutline=!1,this._withData((()=>{var e;return null===(e=this._renderState)||void 0===e?void 0:e.run(W("outline",this._character,"number"==typeof t.duration?t.duration:this._options.strokeFadeDuration)).then((e=>{var n;return null===(n=t.onComplete)||void 0===n||n.call(t,e),e}))}))}updateDimensions({width:t,height:e,padding:n}){if(void 0!==t&&(this._options.width=t),void 0!==e&&(this._options.height=e),void 0!==n&&(this._options.padding=n),this.target.updateDimensions(this._options.width,this._options.height),this._character&&this._renderState&&this._hanziWriterRenderer&&this._positioner){this._hanziWriterRenderer.destroy();const t=this._initAndMountHanziWriterRenderer(this._character);this._renderState.overwriteOnStateChange((e=>t.render(e))),t.render(this._renderState.state),this._quiz&&this._quiz.setPositioner(this._positioner)}}updateColor(t,e,n={}){var r;let i=[];const o=d((()=>"radicalColor"!==t||e?e:this._options.strokeColor)());this._options[t]=e;const s=null!==(r=n.duration)&&void 0!==r?r:this._options.strokeFadeDuration;return i=i.concat(q(t,o,s)),"radicalColor"!==t||e||(i=i.concat(q(t,null,0))),this._withData((()=>{var t;return null===(t=this._renderState)||void 0===t?void 0:t.run(i).then((t=>{var e;return null===(e=n.onComplete)||void 0===e||e.call(n,t),t}))}))}quiz(t={}){return this._withData((async()=>{this._character&&this._renderState&&this._positioner&&(this.cancelQuiz(),this._quiz=new Y(this._character,this._renderState,this._positioner),this._options={...this._options,...t},this._quiz.startQuiz(this._options))}))}cancelQuiz(){this._quiz&&(this._quiz.cancel(),this._quiz=void 0)}setCharacter(t){return this.cancelQuiz(),this._char=t,this._hanziWriterRenderer&&this._hanziWriterRenderer.destroy(),this._renderState&&this._renderState.cancelAll(),this._hanziWriterRenderer=null,this._withDataPromise=this._loadingManager.loadCharData(t).then((e=>{if(!e||this._loadingManager.loadingFailed)return;this._character=function(t,e){const n=function({radStrokes:t,strokes:e,medians:n}){return e.map(((e,r)=>{const i=n[r].map((t=>{const[e,n]=t;return{x:e,y:n}}));return new k(e,i,r,(o=r,(null!==(s=null==t?void 0:t.indexOf(o))&&void 0!==s?s:-1)>=0));var o,s}))}(e);return new L(t,n)}(t,e),this._renderState=new y(this._character,this._options,(t=>n.render(t)));const n=this._initAndMountHanziWriterRenderer(this._character);n.render(this._renderState.state)})),this._withDataPromise}_initAndMountHanziWriterRenderer(t){const{width:e,height:n,padding:r}=this._options;this._positioner=new x({width:e,height:n,padding:r});const i=new this._renderer.HanziWriterRenderer(t,this._positioner);return i.mount(this.target),this._hanziWriterRenderer=i,i}async getCharacterData(){if(!this._char)throw new Error("setCharacter() must be called before calling getCharacterData()");return await this._withData((()=>this._character))}_assignOptions(t){const e={...ft,...t};return t.strokeAnimationDuration&&!t.strokeAnimationSpeed&&(e.strokeAnimationSpeed=500/t.strokeAnimationDuration),t.strokeHighlightDuration&&!t.strokeHighlightSpeed&&(e.strokeHighlightSpeed=500/e.strokeHighlightDuration),t.highlightCompleteColor||(e.highlightCompleteColor=e.highlightColor),this._fillWidthAndHeight(e)}_fillWidthAndHeight(t){const e={...t};if(e.width&&!e.height)e.height=e.width;else if(e.height&&!e.width)e.width=e.height;else if(!e.width&&!e.height){const{width:t,height:n}=this.target.getBoundingClientRect(),r=Math.min(t,n);e.width=r,e.height=r}return e}_withData(t){if(this._loadingManager.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this._withDataPromise?this._withDataPromise.then((()=>{if(!this._loadingManager.loadingFailed)return t()})):Promise.resolve().then(t)}_setupListeners(){this.target.addPointerStartListener((t=>{this._quiz&&(t.preventDefault(),this._quiz.startUserStroke(t.getPoint()))})),this.target.addPointerMoveListener((t=>{this._quiz&&(t.preventDefault(),this._quiz.continueUserStroke(t.getPoint()))})),this.target.addPointerEndListener((()=>{var t;null===(t=this._quiz)||void 0===t||t.endUserStroke()}))}}mt._loadingManager=null,mt._loadingOptions=null;const vt=mt;var yt=n(767),bt=n.n(yt),_t=function(t,e){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},_t(t,e)};function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ct=function(){return Ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ct.apply(this,arguments)};function St(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Tt=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),At=function(){function t(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.root=t,this.initialize.apply(this,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(n))),this.foundation=void 0===e?this.getDefaultFoundation():e,this.foundation.init(),this.initialSyncWithDOM()}return t.attachTo=function(e){return new t(e,new Tt({}))},t.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation.destroy()},t.prototype.listen=function(t,e,n){this.root.addEventListener(t,e,n)},t.prototype.unlisten=function(t,e,n){this.root.removeEventListener(t,e,n)},t.prototype.emit=function(t,e,n){var r;void 0===n&&(n=!1),"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:n,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,e),this.root.dispatchEvent(r)},t}(),It={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};function wt(t,e){if(function(t){return Boolean(t.document)&&"function"==typeof t.document.createElement}(t)&&e in It){var n=t.document.createElement("div"),r=It[e],i=r.standard,o=r.prefixed;return i in n.style?i:o}return e}var kt={CLOSED_CLASS:"mdc-linear-progress--closed",CLOSED_ANIMATION_OFF_CLASS:"mdc-linear-progress--closed-animation-off",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed",ANIMATION_READY_CLASS:"mdc-linear-progress--animation-ready"},Lt={ARIA_HIDDEN:"aria-hidden",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},Rt=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.observer=null,r}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return kt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Lt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},attachResizeObserver:function(){return null},forceLayout:function(){},getWidth:function(){return 0},hasClass:function(){return!1},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},setStyle:function(){},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;this.determinate=!this.adapter.hasClass(kt.INDETERMINATE_CLASS),this.adapter.addClass(kt.ANIMATION_READY_CLASS),this.progress=0,this.buffer=1,this.observer=this.adapter.attachResizeObserver((function(e){var n,r;if(!t.determinate)try{for(var i=St(e),o=i.next();!o.done;o=i.next()){var s=o.value;s.contentRect&&t.calculateAndSetDimensions(s.contentRect.width)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})),!this.determinate&&this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth())},e.prototype.setDeterminate=function(t){if(this.determinate=t,this.determinate)return this.adapter.removeClass(kt.INDETERMINATE_CLASS),this.adapter.setAttribute(Lt.ARIA_VALUENOW,this.progress.toString()),this.adapter.setAttribute(Lt.ARIA_VALUEMAX,"1"),this.adapter.setAttribute(Lt.ARIA_VALUEMIN,"0"),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.observer&&this.calculateAndSetDimensions(this.adapter.getWidth()),this.adapter.addClass(kt.INDETERMINATE_CLASS),this.adapter.removeAttribute(Lt.ARIA_VALUENOW),this.adapter.removeAttribute(Lt.ARIA_VALUEMAX),this.adapter.removeAttribute(Lt.ARIA_VALUEMIN),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},e.prototype.isDeterminate=function(){return this.determinate},e.prototype.setProgress=function(t){this.progress=t,this.determinate&&(this.setPrimaryBarProgress(t),this.adapter.setAttribute(Lt.ARIA_VALUENOW,t.toString()))},e.prototype.getProgress=function(){return this.progress},e.prototype.setBuffer=function(t){this.buffer=t,this.determinate&&this.setBufferBarProgress(t)},e.prototype.getBuffer=function(){return this.buffer},e.prototype.open=function(){this.adapter.removeClass(kt.CLOSED_CLASS),this.adapter.removeClass(kt.CLOSED_ANIMATION_OFF_CLASS),this.adapter.removeAttribute(Lt.ARIA_HIDDEN)},e.prototype.close=function(){this.adapter.addClass(kt.CLOSED_CLASS),this.adapter.setAttribute(Lt.ARIA_HIDDEN,"true")},e.prototype.isClosed=function(){return this.adapter.hasClass(kt.CLOSED_CLASS)},e.prototype.handleTransitionEnd=function(){this.adapter.hasClass(kt.CLOSED_CLASS)&&this.adapter.addClass(kt.CLOSED_ANIMATION_OFF_CLASS)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.observer&&this.observer.disconnect()},e.prototype.restartAnimation=function(){this.adapter.removeClass(kt.ANIMATION_READY_CLASS),this.adapter.forceLayout(),this.adapter.addClass(kt.ANIMATION_READY_CLASS)},e.prototype.setPrimaryBarProgress=function(t){var e="scaleX("+t+")",n="undefined"!=typeof window?wt(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(n,e)},e.prototype.setBufferBarProgress=function(t){var e=100*t+"%";this.adapter.setBufferBarStyle(Lt.FLEX_BASIS,e)},e.prototype.calculateAndSetDimensions=function(t){var e=.8367142*t,n=2.00611057*t,r=.37651913*t,i=.84386165*t,o=1.60277782*t;this.adapter.setStyle("--mdc-linear-progress-primary-half",e+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-half-neg",-e+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full",n+"px"),this.adapter.setStyle("--mdc-linear-progress-primary-full-neg",-n+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter",r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-quarter-neg",-r+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half",i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-half-neg",-i+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full",o+"px"),this.adapter.setStyle("--mdc-linear-progress-secondary-full-neg",-o+"px"),this.restartAnimation()},e}(Tt),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"determinate",{set:function(t){this.foundation.setDeterminate(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{set:function(t){this.foundation.setProgress(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{set:function(t){this.foundation.setBuffer(t)},enumerable:!1,configurable:!0}),e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(){this.foundation.close()},e.prototype.initialSyncWithDOM=function(){var t=this;this.root.addEventListener("transitionend",(function(){t.foundation.handleTransitionEnd()}))},e.prototype.getDefaultFoundation=function(){var t=this;return new Rt({addClass:function(e){t.root.classList.add(e)},forceLayout:function(){t.root.getBoundingClientRect()},setBufferBarStyle:function(e,n){var r=t.root.querySelector(Rt.strings.BUFFER_BAR_SELECTOR);r&&r.style.setProperty(e,n)},setPrimaryBarStyle:function(e,n){var r=t.root.querySelector(Rt.strings.PRIMARY_BAR_SELECTOR);r&&r.style.setProperty(e,n)},hasClass:function(e){return t.root.classList.contains(e)},removeAttribute:function(e){t.root.removeAttribute(e)},removeClass:function(e){t.root.classList.remove(e)},setAttribute:function(e,n){t.root.setAttribute(e,n)},setStyle:function(e,n){t.root.style.setProperty(e,n)},attachResizeObserver:function(e){var n=window.ResizeObserver;if(n){var r=new n(e);return r.observe(t.root),r}return null},getWidth:function(){return t.root.offsetWidth}})},e}(At);const Dt=(t,e)=>e.some((e=>t instanceof e));let Pt,xt;const Nt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Ht=new WeakMap,Bt=new WeakMap;let Vt={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Mt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ft.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ut(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(zt(this),t),jt(Nt.get(this))}:function(...t){return jt(e.apply(zt(this),t))}:function(t,...n){const r=e.call(zt(this),t,...n);return Ft.set(r,t.sort?t.sort():[t]),jt(r)}:(t instanceof IDBTransaction&&function(t){if(Mt.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));Mt.set(t,e)}(t),Dt(t,Pt||(Pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Vt):t);var e}function jt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(jt(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&Nt.set(e,t)})).catch((()=>{})),Bt.set(e,t),e}(t);if(Ht.has(t))return Ht.get(t);const e=Ut(t);return e!==t&&(Ht.set(t,e),Bt.set(e,t)),e}const zt=t=>Bt.get(t),Wt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],$t=new Map;function Gt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($t.get(e))return $t.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wt.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(e.shift())),(await Promise.all([s[n](...e),i&&o.done]))[0]};return $t.set(e,o),o}var Xt;Xt=Vt,Vt={...Xt,get:(t,e,n)=>Gt(t,e)||Xt.get(t,e,n),has:(t,e)=>!!Gt(t,e)||Xt.has(t,e)};class Kt{db;constructor(){this.db=null}static async build(){const t=new Kt;t.db=await function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=jt(s);return r&&s.addEventListener("upgradeneeded",(t=>{r(jt(s.result),t.oldVersion,t.newVersion,jt(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("tea",1,{async upgrade(t,e,n,r){0===e?(t.createObjectStore("config"),t.createObjectStore("partitions"),t.createObjectStore("partition-lengths"),t.createObjectStore("hanzi-writer-data")):console.log("upgrade",e,n)},blocked(){},blocking(){},terminated(){}});const e=performance.now();await Promise.all([t.setup_config(),t.setup_partitions(),t.setup_hanzi_writer_data()]);const n=performance.now();return console.log("Loaded data: "+Math.round(n-e)+"ms"),t}async setup_config(){if(await this.db.count("config")<1){const t=this.db.transaction("config","readwrite"),e=[];e.push(t.store.add("#b2d1c9","color")),e.push(t.store.add([.125,.125,.125,.125,.125,.125,.125,.125,.125],"probabilities")),e.push(t.store.add(100,"buffer_size")),e.push(t.store.add("traditional","type")),e.push(t.done),await Promise.all(e)}}async setup_partitions(){if(await this.db.count("partitions")<1){let t=await fetch("https://cdn.jsdelivr.net/gh/steventango/tea-data/partitions.json"),e=await t.json();const n=this.db.transaction(["partitions","partition-lengths"],"readwrite"),r=[];for(const[t,i]of Object.entries(e))r.push(n.objectStore("partitions").add(i,t)),r.push(n.objectStore("partition-lengths").add(i.length,t));r.push(n.objectStore("partitions").add([],"learned")),r.push(n.objectStore("partition-lengths").add(0,"learned")),r.push(n.objectStore("partitions").add([],"buffer")),r.push(n.objectStore("partition-lengths").add(0,"buffer")),r.push(n.done),await Promise.all(r)}}async setup_hanzi_writer_data(){if(await this.db.count("hanzi-writer-data")<1){const t=await fetch("https://raw.githubusercontent.com/chanind/hanzi-writer-data/v2.0.1/data/all.json"),e=await t.json(),n=this.db.transaction("hanzi-writer-data","readwrite"),r=[];for(const[t,i]of Object.entries(e))r.push(n.store.add(i,t));r.push(n.done),await Promise.all(r)}}}function Yt(t){const e=Math.random();let n=0;for(const[r,i]of t.entries())if(n+=i,e<n)return r;return 0}function Qt(t,e=0,n=t.length){const r=Math.floor(Math.random()*(n-e))+e,i=t[r];return t.splice(r,1),i}var Jt="mdc-dom-focus-sentinel",Zt=function(){function t(t,e){void 0===e&&(e={}),this.root=t,this.options=e,this.elFocusedBeforeTrapFocus=null}return t.prototype.trapFocus=function(){var t=this.getFocusableElements(this.root);if(0===t.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root),this.options.skipInitialFocus||this.focusInitialElement(t,this.options.initialFocusEl)},t.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+Jt)).forEach((function(t){t.parentElement.removeChild(t)})),!this.options.skipRestoreFocus&&this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},t.prototype.wrapTabFocus=function(t){var e=this,n=this.createSentinel(),r=this.createSentinel();n.addEventListener("focus",(function(){var n=e.getFocusableElements(t);n.length>0&&n[n.length-1].focus()})),r.addEventListener("focus",(function(){var n=e.getFocusableElements(t);n.length>0&&n[0].focus()})),t.insertBefore(n,t.children[0]),t.appendChild(r)},t.prototype.focusInitialElement=function(t,e){var n=0;e&&(n=Math.max(t.indexOf(e),0)),t[n].focus()},t.prototype.getFocusableElements=function(t){return[].slice.call(t.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(t){var e="true"===t.getAttribute("aria-disabled")||null!=t.getAttribute("disabled")||null!=t.getAttribute("hidden")||"true"===t.getAttribute("aria-hidden"),n=t.tabIndex>=0&&t.getBoundingClientRect().width>0&&!t.classList.contains(Jt)&&!e,r=!1;if(n){var i=getComputedStyle(t);r="none"===i.display||"hidden"===i.visibility}return n&&!r}))},t.prototype.createSentinel=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","true"),t.classList.add(Jt),t},t}();function te(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}function ee(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},r=function(){};t.document.addEventListener("test",r,n),t.document.removeEventListener("test",r,n)}catch(t){e=!1}return e}(t)&&{passive:!0}}var ne,re,ie={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},oe={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},se={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},ae=["touchstart","pointerdown","mousedown","keydown"],ue=["touchend","pointerup","mouseup","contextmenu"],le=[],ce=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(t){r.activateImpl(t)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ie},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return oe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return se},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple();if(this.registerRootHandlers(n),n){var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(i),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(r),t.adapter.removeClass(i),t.removeCssVars()}))}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},e.prototype.activate=function(t){this.activateImpl(t)},e.prototype.deactivate=function(){this.deactivateImpl()},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame((function(){t.layoutInternal(),t.layoutFrame=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers=function(t){var e,n;if(t){try{for(var r=St(ae),i=r.next();!i.done;i=r.next()){var o=i.value;this.adapter.registerInteractionHandler(o,this.activateHandler)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},e.prototype.registerDeactivationHandlers=function(t){var e,n;if("keydown"===t.type)this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var r=St(ue),i=r.next();!i.done;i=r.next()){var o=i.value;this.adapter.registerDocumentInteractionHandler(o,this.deactivateHandler)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.deregisterRootHandlers=function(){var t,e;try{for(var n=St(ae),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.activateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},e.prototype.deregisterDeactivationHandlers=function(){var t,e;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=St(ue),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterDocumentInteractionHandler(i,this.deactivateHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.removeCssVars=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activateImpl=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var r=this.previousActivationEvent;r&&void 0!==t&&r.type!==t.type||(n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type),void 0!==t&&le.length>0&&le.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState():(void 0!==t&&(le.push(t.target),this.registerDeactivationHandlers(t)),n.wasElementMadeActive=this.checkElementMadeActive(t),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame((function(){le=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive(t),n.wasElementMadeActive&&e.animateActivation()),n.wasElementMadeActive||(e.activationState=e.defaultActivationState())}))))}}},e.prototype.checkElementMadeActive=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation=function(){var t=this,n=e.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,u=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var l="",c="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),d=h.startPoint,p=h.endPoint;l=d.x+"px, "+d.y+"px",c=p.x+"px, "+p.y+"px"}this.adapter.updateCssVariable(r,l),this.adapter.updateCssVariable(i,c),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer=setTimeout((function(){t.activationTimerCallback()}),u)},e.prototype.getFgTranslationCoordinates=function(){var t,e=this.activationState,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var r,i,o=e.x,s=e.y,a=o+n.left,u=s+n.top;if("touchstart"===t.type){var l=t;r=l.changedTouches[0].pageX-a,i=l.changedTouches[0].pageY-u}else{var c=t;r=c.pageX-a,i=c.pageY-u}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:t.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},e.prototype.runDeactivationUXLogicIfReady=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,r=this.activationState,i=r.hasDeactivationUXRun,o=r.isActivated;(i||!o)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer=setTimeout((function(){t.adapter.removeClass(n)}),se.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState=function(){var t=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout((function(){return t.previousActivationEvent=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivateImpl=function(){var t=this,e=this.activationState;if(e.isActivated){var n=Ct({},e);e.isProgrammatic?(requestAnimationFrame((function(){t.animateDeactivation(n)})),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame((function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(n),t.resetActivationState()})))}},e.prototype.animateDeactivation=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady()},e.prototype.layoutInternal=function(){this.frame=this.adapter.computeBoundingRect();var t=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?t:Math.sqrt(Math.pow(this.frame.width,2)+Math.pow(this.frame.height,2))+e.numbers.PADDING;var n=Math.floor(t*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&n%2!=0?this.initialSize=n-1:this.initialSize=n,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},e.prototype.updateLayoutCssVars=function(){var t=e.strings,n=t.VAR_FG_SIZE,r=t.VAR_LEFT,i=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(r,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},e}(Tt),he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e}return Et(e,t),e.attachTo=function(t,n){void 0===n&&(n={isUnbounded:void 0});var r=new e(t);return void 0!==n.isUnbounded&&(r.unbounded=n.isUnbounded),r},e.createAdapter=function(t){return{addClass:function(e){return t.root.classList.add(e)},browserSupportsCssVars:function(){return function(t,e){void 0===e&&(e=!1);var n,r=window.CSS;if("boolean"==typeof ne&&!e)return ne;if(!r||"function"!=typeof r.supports)return!1;var i=r.supports("--css-vars","yes"),o=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=i||o,e||(ne=n),n}()},computeBoundingRect:function(){return t.root.getBoundingClientRect()},containsEventTarget:function(e){return t.root.contains(e)},deregisterDocumentInteractionHandler:function(t,e){return document.documentElement.removeEventListener(t,e,ee())},deregisterInteractionHandler:function(e,n){return t.root.removeEventListener(e,n,ee())},deregisterResizeHandler:function(t){return window.removeEventListener("resize",t)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return te(t.root,":active")},isSurfaceDisabled:function(){return Boolean(t.disabled)},isUnbounded:function(){return Boolean(t.unbounded)},registerDocumentInteractionHandler:function(t,e){return document.documentElement.addEventListener(t,e,ee())},registerInteractionHandler:function(e,n){return t.root.addEventListener(e,n,ee())},registerResizeHandler:function(t){return window.addEventListener("resize",t)},removeClass:function(e){return t.root.classList.remove(e)},updateCssVariable:function(e,n){return t.root.style.setProperty(e,n)}}},Object.defineProperty(e.prototype,"unbounded",{get:function(){return Boolean(this.isUnbounded)},set:function(t){this.isUnbounded=Boolean(t),this.setUnbounded()},enumerable:!1,configurable:!0}),e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getDefaultFoundation=function(){return new ce(e.createAdapter(this))},e.prototype.initialSyncWithDOM=function(){var t=this.root;this.isUnbounded="mdcRippleIsUnbounded"in t.dataset},e.prototype.setUnbounded=function(){this.foundation.setUnbounded(Boolean(this.isUnbounded))},e}(At),de=function(){function t(){this.rafIDs=new Map}return t.prototype.request=function(t,e){var n=this;this.cancel(t);var r=requestAnimationFrame((function(r){n.rafIDs.delete(t),e(r)}));this.rafIDs.set(t,r)},t.prototype.cancel=function(t){var e=this.rafIDs.get(t);e&&(cancelAnimationFrame(e),this.rafIDs.delete(t))},t.prototype.cancelAll=function(){var t=this;this.rafIDs.forEach((function(e,n){t.cancel(n)}))},t.prototype.getQueue=function(){var t=[];return this.rafIDs.forEach((function(e,n){t.push(n)})),t},t}(),pe={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked",FULLSCREEN:"mdc-dialog--fullscreen",SCROLL_DIVIDER_HEADER:"mdc-dialog-scroll-divider-header",SCROLL_DIVIDER_FOOTER:"mdc-dialog-scroll-divider-footer",SURFACE_SCRIM_SHOWN:"mdc-dialog__surface-scrim--shown",SURFACE_SCRIM_SHOWING:"mdc-dialog__surface-scrim--showing",SURFACE_SCRIM_HIDING:"mdc-dialog__surface-scrim--hiding",SCRIM_HIDDEN:"mdc-dialog__scrim--hidden"},fe={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},ge={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};!function(t){t.POLL_SCROLL_POS="poll_scroll_position",t.POLL_LAYOUT_CHANGE="poll_layout_change"}(re||(re={}));var me,ve,ye,be=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.dialogOpen=!1,r.isFullscreen=!1,r.animationFrame=0,r.animationTimer=0,r.escapeKeyAction=fe.CLOSE_ACTION,r.scrimClickAction=fe.CLOSE_ACTION,r.autoStackButtons=!0,r.areButtonsStacked=!1,r.suppressDefaultPressSelector=fe.SUPPRESS_DEFAULT_PRESS_SELECTOR,r.animFrame=new de,r.contentScrollHandler=function(){r.handleScrollEvent()},r.windowResizeHandler=function(){r.layout()},r.windowOrientationChangeHandler=function(){r.layout()},r}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return pe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return fe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ge},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){},registerContentEventHandler:function(){},deregisterContentEventHandler:function(){},isScrollableContentAtTop:function(){return!1},isScrollableContentAtBottom:function(){return!1},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(pe.STACKED)&&this.setAutoStackButtons(!1),this.isFullscreen=this.adapter.hasClass(pe.FULLSCREEN)},e.prototype.destroy=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.handleAnimationTimerEnd()),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.animFrame.cancelAll(),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler)},e.prototype.open=function(t){var e=this;this.dialogOpen=!0,this.adapter.notifyOpening(),this.adapter.addClass(pe.OPENING),this.isFullscreen&&this.adapter.registerContentEventHandler("scroll",this.contentScrollHandler),t&&t.isAboveFullscreenDialog&&this.adapter.addClass(pe.SCRIM_HIDDEN),this.adapter.registerWindowEventHandler("resize",this.windowResizeHandler),this.adapter.registerWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),this.runNextAnimationFrame((function(){e.adapter.addClass(pe.OPEN),e.adapter.addBodyClass(pe.SCROLL_LOCK),e.layout(),e.animationTimer=setTimeout((function(){e.handleAnimationTimerEnd(),e.adapter.trapFocus(e.adapter.getInitialFocusEl()),e.adapter.notifyOpened()}),ge.DIALOG_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.dialogOpen&&(this.dialogOpen=!1,this.adapter.notifyClosing(t),this.adapter.addClass(pe.CLOSING),this.adapter.removeClass(pe.OPEN),this.adapter.removeBodyClass(pe.SCROLL_LOCK),this.isFullscreen&&this.adapter.deregisterContentEventHandler("scroll",this.contentScrollHandler),this.adapter.deregisterWindowEventHandler("resize",this.windowResizeHandler),this.adapter.deregisterWindowEventHandler("orientationchange",this.windowOrientationChangeHandler),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd(),e.adapter.notifyClosed(t)}),ge.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.showSurfaceScrim=function(){var t=this;this.adapter.addClass(pe.SURFACE_SCRIM_SHOWING),this.runNextAnimationFrame((function(){t.adapter.addClass(pe.SURFACE_SCRIM_SHOWN)}))},e.prototype.hideSurfaceScrim=function(){this.adapter.removeClass(pe.SURFACE_SCRIM_SHOWN),this.adapter.addClass(pe.SURFACE_SCRIM_HIDING)},e.prototype.handleSurfaceScrimTransitionEnd=function(){this.adapter.removeClass(pe.SURFACE_SCRIM_HIDING),this.adapter.removeClass(pe.SURFACE_SCRIM_SHOWING)},e.prototype.isOpen=function(){return this.dialogOpen},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction},e.prototype.setScrimClickAction=function(t){this.scrimClickAction=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.animFrame.request(re.POLL_LAYOUT_CHANGE,(function(){t.layoutInternal()}))},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,fe.SCRIM_SELECTOR)&&""!==this.scrimClickAction)this.close(this.scrimClickAction);else{var e=this.adapter.getActionFromEvent(t);e&&this.close(e)}},e.prototype.handleKeydown=function(t){var e="Enter"===t.key||13===t.keyCode;if(e&&!this.adapter.getActionFromEvent(t)){var n=t.composedPath?t.composedPath()[0]:t.target,r=!this.suppressDefaultPressSelector||!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);e&&r&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction&&this.close(this.escapeKeyAction)},e.prototype.handleScrollEvent=function(){var t=this;this.animFrame.request(re.POLL_SCROLL_POS,(function(){t.toggleScrollDividerHeader(),t.toggleScrollDividerFooter()}))},e.prototype.layoutInternal=function(){this.autoStackButtons&&this.detectStackedButtons(),this.toggleScrollableClasses()},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(pe.OPENING),this.adapter.removeClass(pe.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var e=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((function(){e.animationFrame=0,clearTimeout(e.animationTimer),e.animationTimer=setTimeout(t,0)}))},e.prototype.detectStackedButtons=function(){this.adapter.removeClass(pe.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(pe.STACKED),t!==this.areButtonsStacked&&(this.adapter.reverseButtons(),this.areButtonsStacked=t)},e.prototype.toggleScrollableClasses=function(){this.adapter.removeClass(pe.SCROLLABLE),this.adapter.isContentScrollable()&&(this.adapter.addClass(pe.SCROLLABLE),this.isFullscreen&&(this.toggleScrollDividerHeader(),this.toggleScrollDividerFooter()))},e.prototype.toggleScrollDividerHeader=function(){this.adapter.isScrollableContentAtTop()?this.adapter.hasClass(pe.SCROLL_DIVIDER_HEADER)&&this.adapter.removeClass(pe.SCROLL_DIVIDER_HEADER):this.adapter.addClass(pe.SCROLL_DIVIDER_HEADER)},e.prototype.toggleScrollDividerFooter=function(){this.adapter.isScrollableContentAtBottom()?this.adapter.hasClass(pe.SCROLL_DIVIDER_FOOTER)&&this.adapter.removeClass(pe.SCROLL_DIVIDER_FOOTER):this.adapter.addClass(pe.SCROLL_DIVIDER_FOOTER)},e}(Tt),_e=be.strings,Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"escapeKeyAction",{get:function(){return this.foundation.getEscapeKeyAction()},set:function(t){this.foundation.setEscapeKeyAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrimClickAction",{get:function(){return this.foundation.getScrimClickAction()},set:function(t){this.foundation.setScrimClickAction(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoStackButtons",{get:function(){return this.foundation.getAutoStackButtons()},set:function(t){this.foundation.setAutoStackButtons(t)},enumerable:!1,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t){var e,n;void 0===t&&(t=function(t,e){return new Zt(t,e)});var r=this.root.querySelector(_e.CONTAINER_SELECTOR);if(!r)throw new Error("Dialog component requires a "+_e.CONTAINER_SELECTOR+" container element");this.container=r,this.content=this.root.querySelector(_e.CONTENT_SELECTOR),this.buttons=[].slice.call(this.root.querySelectorAll(_e.BUTTON_SELECTOR)),this.defaultButton=this.root.querySelector("["+_e.BUTTON_DEFAULT_ATTRIBUTE+"]"),this.focusTrapFactory=t,this.buttonRipples=[];try{for(var i=St(this.buttons),o=i.next();!o.done;o=i.next()){var s=o.value;this.buttonRipples.push(new he(s))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.initialSyncWithDOM=function(){var t,e=this;this.focusTrap=(t=this.container,(0,this.focusTrapFactory)(t,{initialFocusEl:this.getInitialFocusEl()||void 0})),this.handleClick=this.foundation.handleClick.bind(this.foundation),this.handleKeydown=this.foundation.handleKeydown.bind(this.foundation),this.handleDocumentKeydown=this.foundation.handleDocumentKeydown.bind(this.foundation),this.handleOpening=function(){document.addEventListener("keydown",e.handleDocumentKeydown)},this.handleClosing=function(){document.removeEventListener("keydown",e.handleDocumentKeydown)},this.listen("click",this.handleClick),this.listen("keydown",this.handleKeydown),this.listen(_e.OPENING_EVENT,this.handleOpening),this.listen(_e.CLOSING_EVENT,this.handleClosing)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick),this.unlisten("keydown",this.handleKeydown),this.unlisten(_e.OPENING_EVENT,this.handleOpening),this.unlisten(_e.CLOSING_EVENT,this.handleClosing),this.handleClosing(),this.buttonRipples.forEach((function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.layout=function(){this.foundation.layout()},e.prototype.open=function(){this.foundation.open()},e.prototype.close=function(t){void 0===t&&(t=""),this.foundation.close(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new be({addBodyClass:function(t){return document.body.classList.add(t)},addClass:function(e){return t.root.classList.add(e)},areButtonsStacked:function(){return e=t.buttons,n=new Set,[].forEach.call(e,(function(t){return n.add(t.offsetTop)})),n.size>1;var e,n},clickDefaultButton:function(){t.defaultButton&&!t.defaultButton.disabled&&t.defaultButton.click()},eventTargetMatches:function(t,e){return!!t&&te(t,e)},getActionFromEvent:function(t){if(!t.target)return"";var e=function(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(te(n,e))return n;n=n.parentElement}return null}(t.target,"["+_e.ACTION_ATTRIBUTE+"]");return e&&e.getAttribute(_e.ACTION_ATTRIBUTE)},getInitialFocusEl:function(){return t.getInitialFocusEl()},hasClass:function(e){return t.root.classList.contains(e)},isContentScrollable:function(){return!!(e=t.content)&&e.scrollHeight>e.offsetHeight;var e},notifyClosed:function(e){return t.emit(_e.CLOSED_EVENT,e?{action:e}:{})},notifyClosing:function(e){return t.emit(_e.CLOSING_EVENT,e?{action:e}:{})},notifyOpened:function(){return t.emit(_e.OPENED_EVENT,{})},notifyOpening:function(){return t.emit(_e.OPENING_EVENT,{})},releaseFocus:function(){t.focusTrap.releaseFocus()},removeBodyClass:function(t){return document.body.classList.remove(t)},removeClass:function(e){return t.root.classList.remove(e)},reverseButtons:function(){t.buttons.reverse(),t.buttons.forEach((function(t){t.parentElement.appendChild(t)}))},trapFocus:function(){t.focusTrap.trapFocus()},registerContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.addEventListener(e,n)},deregisterContentEventHandler:function(e,n){t.content instanceof HTMLElement&&t.content.removeEventListener(e,n)},isScrollableContentAtTop:function(){return!!(e=t.content)&&0===e.scrollTop;var e},isScrollableContentAtBottom:function(){return!!(e=t.content)&&Math.ceil(e.scrollHeight-e.scrollTop)===e.clientHeight;var e},registerWindowEventHandler:function(t,e){window.addEventListener(t,e)},deregisterWindowEventHandler:function(t,e){window.removeEventListener(t,e)}})},e.prototype.getInitialFocusEl=function(){return this.root.querySelector("["+_e.INITIAL_FOCUS_ATTRIBUTE+"]")},e}(At),Ce="mdc-slider--disabled",Se="mdc-slider__thumb",Te="mdc-slider__thumb--focused",Ae="mdc-slider__thumb--top",Ie="mdc-slider__thumb--with-indicator",we="mdc-slider__tick-marks",ke="mdc-slider__tick-mark--active",Le="mdc-slider__tick-mark--inactive",Re="disabled",Oe="min",De="max",Pe="value",xe="step";!function(t){t[t.ACTIVE=0]="ACTIVE",t[t.INACTIVE=1]="INACTIVE"}(me||(me={})),function(t){t[t.START=1]="START",t[t.END=2]="END"}(ve||(ve={})),function(t){t.SLIDER_UPDATE="slider_update"}(ye||(ye={}));var Ne="undefined"!=typeof window,Me=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.initialStylesRemoved=!1,r.isDisabled=!1,r.isDiscrete=!1,r.step=1,r.hasTickMarks=!1,r.isRange=!1,r.thumb=null,r.downEventClientX=null,r.startThumbKnobWidth=0,r.endThumbKnobWidth=0,r.animFrame=new de,r}return Et(e,t),Object.defineProperty(e,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},addThumbClass:function(){},removeThumbClass:function(){},getAttribute:function(){return null},getInputValue:function(){return""},setInputValue:function(){},getInputAttribute:function(){return null},setInputAttribute:function(){return null},removeInputAttribute:function(){return null},focusInput:function(){},isInputFocused:function(){return!1},getThumbKnobWidth:function(){return 0},getThumbBoundingClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getBoundingClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},isRTL:function(){return!1},setThumbStyleProperty:function(){},removeThumbStyleProperty:function(){},setTrackActiveStyleProperty:function(){},removeTrackActiveStyleProperty:function(){},setValueIndicatorText:function(){},getValueToAriaValueTextFn:function(){return null},updateTickMarks:function(){},setPointerCapture:function(){},emitChangeEvent:function(){},emitInputEvent:function(){},emitDragStartEvent:function(){},emitDragEndEvent:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){},registerThumbEventHandler:function(){},deregisterThumbEventHandler:function(){},registerInputEventHandler:function(){},deregisterInputEventHandler:function(){},registerBodyEventHandler:function(){},deregisterBodyEventHandler:function(){},registerWindowEventHandler:function(){},deregisterWindowEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;this.isDisabled=this.adapter.hasClass(Ce),this.isDiscrete=this.adapter.hasClass("mdc-slider--discrete"),this.hasTickMarks=this.adapter.hasClass("mdc-slider--tick-marks"),this.isRange=this.adapter.hasClass("mdc-slider--range");var e=this.convertAttributeValueToNumber(this.adapter.getInputAttribute(Oe,this.isRange?ve.START:ve.END),Oe),n=this.convertAttributeValueToNumber(this.adapter.getInputAttribute(De,ve.END),De),r=this.convertAttributeValueToNumber(this.adapter.getInputAttribute(Pe,ve.END),Pe),i=this.isRange?this.convertAttributeValueToNumber(this.adapter.getInputAttribute(Pe,ve.START),Pe):e,o=this.adapter.getInputAttribute(xe,ve.END),s=o?this.convertAttributeValueToNumber(o,xe):this.step;this.validateProperties({min:e,max:n,value:r,valueStart:i,step:s}),this.min=e,this.max=n,this.value=r,this.valueStart=i,this.step=s,this.numDecimalPlaces=Fe(this.step),this.valueBeforeDownEvent=r,this.valueStartBeforeDownEvent=i,this.mousedownOrTouchstartListener=this.handleMousedownOrTouchstart.bind(this),this.moveListener=this.handleMove.bind(this),this.pointerdownListener=this.handlePointerdown.bind(this),this.pointerupListener=this.handlePointerup.bind(this),this.thumbMouseenterListener=this.handleThumbMouseenter.bind(this),this.thumbMouseleaveListener=this.handleThumbMouseleave.bind(this),this.inputStartChangeListener=function(){t.handleInputChange(ve.START)},this.inputEndChangeListener=function(){t.handleInputChange(ve.END)},this.inputStartFocusListener=function(){t.handleInputFocus(ve.START)},this.inputEndFocusListener=function(){t.handleInputFocus(ve.END)},this.inputStartBlurListener=function(){t.handleInputBlur(ve.START)},this.inputEndBlurListener=function(){t.handleInputBlur(ve.END)},this.resizeListener=this.handleResize.bind(this),this.registerEventHandlers()},e.prototype.destroy=function(){this.deregisterEventHandlers()},e.prototype.setMin=function(t){this.min=t,this.isRange||(this.valueStart=t),this.updateUI()},e.prototype.setMax=function(t){this.max=t,this.updateUI()},e.prototype.getMin=function(){return this.min},e.prototype.getMax=function(){return this.max},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){if(this.isRange&&t<this.valueStart)throw new Error("end thumb value ("+t+") must be >= start thumb value ("+this.valueStart+")");this.updateValue(t,ve.END)},e.prototype.getValueStart=function(){if(!this.isRange)throw new Error("`valueStart` is only applicable for range sliders.");return this.valueStart},e.prototype.setValueStart=function(t){if(!this.isRange)throw new Error("`valueStart` is only applicable for range sliders.");if(this.isRange&&t>this.value)throw new Error("start thumb value ("+t+") must be <= end thumb value ("+this.value+")");this.updateValue(t,ve.START)},e.prototype.setStep=function(t){this.step=t,this.numDecimalPlaces=Fe(t),this.updateUI()},e.prototype.setIsDiscrete=function(t){this.isDiscrete=t,this.updateValueIndicatorUI(),this.updateTickMarksUI()},e.prototype.getStep=function(){return this.step},e.prototype.setHasTickMarks=function(t){this.hasTickMarks=t,this.updateTickMarksUI()},e.prototype.getDisabled=function(){return this.isDisabled},e.prototype.setDisabled=function(t){this.isDisabled=t,t?(this.adapter.addClass(Ce),this.isRange&&this.adapter.setInputAttribute(Re,"",ve.START),this.adapter.setInputAttribute(Re,"",ve.END)):(this.adapter.removeClass(Ce),this.isRange&&this.adapter.removeInputAttribute(Re,ve.START),this.adapter.removeInputAttribute(Re,ve.END))},e.prototype.getIsRange=function(){return this.isRange},e.prototype.layout=function(t){var e=(void 0===t?{}:t).skipUpdateUI;this.rect=this.adapter.getBoundingClientRect(),this.isRange&&(this.startThumbKnobWidth=this.adapter.getThumbKnobWidth(ve.START),this.endThumbKnobWidth=this.adapter.getThumbKnobWidth(ve.END)),e||this.updateUI()},e.prototype.handleResize=function(){this.layout()},e.prototype.handleDown=function(t){if(!this.isDisabled){this.valueStartBeforeDownEvent=this.valueStart,this.valueBeforeDownEvent=this.value;var e=null!=t.clientX?t.clientX:t.targetTouches[0].clientX;this.downEventClientX=e;var n=this.mapClientXOnSliderScale(e);this.thumb=this.getThumbFromDownEvent(e,n),null!==this.thumb&&(this.handleDragStart(t,n,this.thumb),this.updateValue(n,this.thumb,{emitInputEvent:!0}))}},e.prototype.handleMove=function(t){if(!this.isDisabled){t.preventDefault();var e=null!=t.clientX?t.clientX:t.targetTouches[0].clientX,n=null!=this.thumb;if(this.thumb=this.getThumbFromMoveEvent(e),null!==this.thumb){var r=this.mapClientXOnSliderScale(e);n||(this.handleDragStart(t,r,this.thumb),this.adapter.emitDragStartEvent(r,this.thumb)),this.updateValue(r,this.thumb,{emitInputEvent:!0})}}},e.prototype.handleUp=function(){if(!this.isDisabled&&null!==this.thumb){var t=this.thumb===ve.START?this.valueStartBeforeDownEvent:this.valueBeforeDownEvent,e=this.thumb===ve.START?this.valueStart:this.value;t!==e&&this.adapter.emitChangeEvent(e,this.thumb),this.adapter.emitDragEndEvent(e,this.thumb),this.thumb=null}},e.prototype.handleThumbMouseenter=function(){this.isDiscrete&&this.isRange&&(this.adapter.addThumbClass(Ie,ve.START),this.adapter.addThumbClass(Ie,ve.END))},e.prototype.handleThumbMouseleave=function(){this.isDiscrete&&this.isRange&&(this.adapter.isInputFocused(ve.START)||this.adapter.isInputFocused(ve.END)||(this.adapter.removeThumbClass(Ie,ve.START),this.adapter.removeThumbClass(Ie,ve.END)))},e.prototype.handleMousedownOrTouchstart=function(t){var e=this,n="mousedown"===t.type?"mousemove":"touchmove";this.adapter.registerBodyEventHandler(n,this.moveListener);var r=function(){e.handleUp(),e.adapter.deregisterBodyEventHandler(n,e.moveListener),e.adapter.deregisterEventHandler("mouseup",r),e.adapter.deregisterEventHandler("touchend",r)};this.adapter.registerBodyEventHandler("mouseup",r),this.adapter.registerBodyEventHandler("touchend",r),this.handleDown(t)},e.prototype.handlePointerdown=function(t){this.adapter.setPointerCapture(t.pointerId),this.adapter.registerEventHandler("pointermove",this.moveListener),this.handleDown(t)},e.prototype.handleInputChange=function(t){var e=Number(this.adapter.getInputValue(t));t===ve.START?this.setValueStart(e):this.setValue(e),this.adapter.emitChangeEvent(t===ve.START?this.valueStart:this.value,t),this.adapter.emitInputEvent(t===ve.START?this.valueStart:this.value,t)},e.prototype.handleInputFocus=function(t){if(this.adapter.addThumbClass(Te,t),this.isDiscrete&&(this.adapter.addThumbClass(Ie,t),this.isRange)){var e=t===ve.START?ve.END:ve.START;this.adapter.addThumbClass(Ie,e)}},e.prototype.handleInputBlur=function(t){if(this.adapter.removeThumbClass(Te,t),this.isDiscrete&&(this.adapter.removeThumbClass(Ie,t),this.isRange)){var e=t===ve.START?ve.END:ve.START;this.adapter.removeThumbClass(Ie,e)}},e.prototype.handleDragStart=function(t,e,n){this.adapter.emitDragStartEvent(e,n),this.adapter.focusInput(n),t.preventDefault()},e.prototype.getThumbFromDownEvent=function(t,e){if(!this.isRange)return ve.END;var n=this.adapter.getThumbBoundingClientRect(ve.START),r=this.adapter.getThumbBoundingClientRect(ve.END),i=t>=n.left&&t<=n.right,o=t>=r.left&&t<=r.right;return i&&o?null:i?ve.START:o?ve.END:e<this.valueStart?ve.START:e>this.value?ve.END:e-this.valueStart<=this.value-e?ve.START:ve.END},e.prototype.getThumbFromMoveEvent=function(t){if(null!==this.thumb)return this.thumb;if(null===this.downEventClientX)throw new Error("`downEventClientX` is null after move event.");return Math.abs(this.downEventClientX-t)<5?this.thumb:t<this.downEventClientX?this.adapter.isRTL()?ve.END:ve.START:this.adapter.isRTL()?ve.START:ve.END},e.prototype.updateUI=function(t){this.updateThumbAndInputAttributes(t),this.updateThumbAndTrackUI(t),this.updateValueIndicatorUI(t),this.updateTickMarksUI()},e.prototype.updateThumbAndInputAttributes=function(t){if(t){var e=this.isRange&&t===ve.START?this.valueStart:this.value,n=String(e);this.adapter.setInputAttribute(Pe,n,t),this.isRange&&t===ve.START?this.adapter.setInputAttribute(Oe,n,ve.END):this.isRange&&t===ve.END&&this.adapter.setInputAttribute(De,n,ve.START),this.adapter.getInputValue(t)!==n&&this.adapter.setInputValue(n,t);var r=this.adapter.getValueToAriaValueTextFn();r&&this.adapter.setInputAttribute("aria-valuetext",r(e),t)}},e.prototype.updateValueIndicatorUI=function(t){if(this.isDiscrete){var e=this.isRange&&t===ve.START?this.valueStart:this.value;this.adapter.setValueIndicatorText(e,t===ve.START?ve.START:ve.END),!t&&this.isRange&&this.adapter.setValueIndicatorText(this.valueStart,ve.START)}},e.prototype.updateTickMarksUI=function(){if(this.isDiscrete&&this.hasTickMarks){var t=(this.valueStart-this.min)/this.step,e=(this.value-this.valueStart)/this.step+1,n=(this.max-this.value)/this.step,r=Array.from({length:t}).fill(me.INACTIVE),i=Array.from({length:e}).fill(me.ACTIVE),o=Array.from({length:n}).fill(me.INACTIVE);this.adapter.updateTickMarks(r.concat(i).concat(o))}},e.prototype.mapClientXOnSliderScale=function(t){var e=(t-this.rect.left)/this.rect.width;this.adapter.isRTL()&&(e=1-e);var n=this.min+e*(this.max-this.min);return n===this.max||n===this.min?n:Number(this.quantize(n).toFixed(this.numDecimalPlaces))},e.prototype.quantize=function(t){var e=Math.round((t-this.min)/this.step);return this.min+e*this.step},e.prototype.updateValue=function(t,e,n){var r=(void 0===n?{}:n).emitInputEvent;if(t=this.clampValue(t,e),this.isRange&&e===ve.START){if(this.valueStart===t)return;this.valueStart=t}else{if(this.value===t)return;this.value=t}this.updateUI(e),r&&this.adapter.emitInputEvent(e===ve.START?this.valueStart:this.value,e)},e.prototype.clampValue=function(t,e){return t=Math.min(Math.max(t,this.min),this.max),this.isRange&&e===ve.START&&t>this.value?this.value:this.isRange&&e===ve.END&&t<this.valueStart?this.valueStart:t},e.prototype.updateThumbAndTrackUI=function(t){var e=this,n=this.max,r=this.min,i=(this.value-this.valueStart)/(n-r),o=i*this.rect.width,s=this.adapter.isRTL(),a=Ne?wt(window,"transform"):"transform";if(this.isRange){var u=this.adapter.isRTL()?(n-this.value)/(n-r)*this.rect.width:(this.valueStart-r)/(n-r)*this.rect.width,l=u+o;this.animFrame.request(ye.SLIDER_UPDATE,(function(){!s&&t===ve.START||s&&t!==ve.START?(e.adapter.setTrackActiveStyleProperty("transform-origin","right"),e.adapter.setTrackActiveStyleProperty("left","unset"),e.adapter.setTrackActiveStyleProperty("right",e.rect.width-l+"px")):(e.adapter.setTrackActiveStyleProperty("transform-origin","left"),e.adapter.setTrackActiveStyleProperty("right","unset"),e.adapter.setTrackActiveStyleProperty("left",u+"px")),e.adapter.setTrackActiveStyleProperty(a,"scaleX("+i+")");var n=s?l:u,r=e.adapter.isRTL()?u:l;t!==ve.START&&t&&e.initialStylesRemoved||e.adapter.setThumbStyleProperty(a,"translateX("+n+"px)",ve.START),t!==ve.END&&t&&e.initialStylesRemoved||e.adapter.setThumbStyleProperty(a,"translateX("+r+"px)",ve.END),e.removeInitialStyles(s),e.updateOverlappingThumbsUI(n,r,t)}))}else this.animFrame.request(ye.SLIDER_UPDATE,(function(){var t=s?e.rect.width-o:o;e.adapter.setThumbStyleProperty(a,"translateX("+t+"px)",ve.END),e.adapter.setTrackActiveStyleProperty(a,"scaleX("+i+")"),e.removeInitialStyles(s)}))},e.prototype.removeInitialStyles=function(t){if(!this.initialStylesRemoved){var e=t?"right":"left";this.adapter.removeThumbStyleProperty(e,ve.END),this.isRange&&this.adapter.removeThumbStyleProperty(e,ve.START),this.initialStylesRemoved=!0,this.resetTrackAndThumbAnimation()}},e.prototype.resetTrackAndThumbAnimation=function(){var t=this;if(this.isDiscrete){var e=Ne?wt(window,"transition"):"transition",n="all 0s ease 0s";this.adapter.setThumbStyleProperty(e,n,ve.END),this.isRange&&this.adapter.setThumbStyleProperty(e,n,ve.START),this.adapter.setTrackActiveStyleProperty(e,n),requestAnimationFrame((function(){t.adapter.removeThumbStyleProperty(e,ve.END),t.adapter.removeTrackActiveStyleProperty(e),t.isRange&&t.adapter.removeThumbStyleProperty(e,ve.START)}))}},e.prototype.updateOverlappingThumbsUI=function(t,e,n){var r=!1;if(this.adapter.isRTL()){var i=t-this.startThumbKnobWidth/2;r=e+this.endThumbKnobWidth/2>=i}else r=t+this.startThumbKnobWidth/2>=e-this.endThumbKnobWidth/2;r?(this.adapter.addThumbClass(Ae,n||ve.END),this.adapter.removeThumbClass(Ae,n===ve.START?ve.END:ve.START)):(this.adapter.removeThumbClass(Ae,ve.START),this.adapter.removeThumbClass(Ae,ve.END))},e.prototype.convertAttributeValueToNumber=function(t,e){if(null===t)throw new Error("MDCSliderFoundation: `"+e+"` must be non-null.");var n=Number(t);if(isNaN(n))throw new Error("MDCSliderFoundation: `"+e+"` value is `"+t+"`, but must be a number.");return n},e.prototype.validateProperties=function(t){var e=t.min,n=t.max,r=t.value,i=t.valueStart,o=t.step;if(e>=n)throw new Error("MDCSliderFoundation: min must be strictly less than max. Current: [min: "+e+", max: "+n+"]");if(o<=0)throw new Error("MDCSliderFoundation: step must be a positive number. Current step: "+this.step);if(this.isRange){if(r<e||r>n||i<e||i>n)throw new Error("MDCSliderFoundation: values must be in [min, max] range. Current values: [start value: "+i+", end value: "+r+"]");if(i>r)throw new Error("MDCSliderFoundation: start value must be <= end value. Current values: [start value: "+i+", end value: "+r+"]");var s=(r-e)/o;if((i-e)/o%1!=0||s%1!=0)throw new Error("MDCSliderFoundation: Slider values must be valid based on the step value. Current values: [start value: "+i+", end value: "+r+"]")}else{if(r<e||r>n)throw new Error("MDCSliderFoundation: value must be in [min, max] range. Current value: "+r);if((s=(r-e)/o)%1!=0)throw new Error("MDCSliderFoundation: Slider value must be valid based on the step value. Current value: "+r)}},e.prototype.registerEventHandlers=function(){this.adapter.registerWindowEventHandler("resize",this.resizeListener),e.SUPPORTS_POINTER_EVENTS?(this.adapter.registerEventHandler("pointerdown",this.pointerdownListener),this.adapter.registerEventHandler("pointerup",this.pointerupListener)):(this.adapter.registerEventHandler("mousedown",this.mousedownOrTouchstartListener),this.adapter.registerEventHandler("touchstart",this.mousedownOrTouchstartListener)),this.isRange&&(this.adapter.registerThumbEventHandler(ve.START,"mouseenter",this.thumbMouseenterListener),this.adapter.registerThumbEventHandler(ve.START,"mouseleave",this.thumbMouseleaveListener),this.adapter.registerInputEventHandler(ve.START,"change",this.inputStartChangeListener),this.adapter.registerInputEventHandler(ve.START,"focus",this.inputStartFocusListener),this.adapter.registerInputEventHandler(ve.START,"blur",this.inputStartBlurListener)),this.adapter.registerThumbEventHandler(ve.END,"mouseenter",this.thumbMouseenterListener),this.adapter.registerThumbEventHandler(ve.END,"mouseleave",this.thumbMouseleaveListener),this.adapter.registerInputEventHandler(ve.END,"change",this.inputEndChangeListener),this.adapter.registerInputEventHandler(ve.END,"focus",this.inputEndFocusListener),this.adapter.registerInputEventHandler(ve.END,"blur",this.inputEndBlurListener)},e.prototype.deregisterEventHandlers=function(){this.adapter.deregisterWindowEventHandler("resize",this.resizeListener),e.SUPPORTS_POINTER_EVENTS?(this.adapter.deregisterEventHandler("pointerdown",this.pointerdownListener),this.adapter.deregisterEventHandler("pointerup",this.pointerupListener)):(this.adapter.deregisterEventHandler("mousedown",this.mousedownOrTouchstartListener),this.adapter.deregisterEventHandler("touchstart",this.mousedownOrTouchstartListener)),this.isRange&&(this.adapter.deregisterThumbEventHandler(ve.START,"mouseenter",this.thumbMouseenterListener),this.adapter.deregisterThumbEventHandler(ve.START,"mouseleave",this.thumbMouseleaveListener),this.adapter.deregisterInputEventHandler(ve.START,"change",this.inputStartChangeListener),this.adapter.deregisterInputEventHandler(ve.START,"focus",this.inputStartFocusListener),this.adapter.deregisterInputEventHandler(ve.START,"blur",this.inputStartBlurListener)),this.adapter.deregisterThumbEventHandler(ve.END,"mouseenter",this.thumbMouseenterListener),this.adapter.deregisterThumbEventHandler(ve.END,"mouseleave",this.thumbMouseleaveListener),this.adapter.deregisterInputEventHandler(ve.END,"change",this.inputEndChangeListener),this.adapter.deregisterInputEventHandler(ve.END,"focus",this.inputEndFocusListener),this.adapter.deregisterInputEventHandler(ve.END,"blur",this.inputEndBlurListener)},e.prototype.handlePointerup=function(){this.handleUp(),this.adapter.deregisterEventHandler("pointermove",this.moveListener)},e.SUPPORTS_POINTER_EVENTS=Ne&&Boolean(window.PointerEvent)&&!(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),e}(Tt);function Fe(t){var e=/(?:\.(\d+))?(?:[eE]([+\-]?\d+))?$/.exec(String(t));if(!e)return 0;var n=e[1]||"",r=e[2]||0;return Math.max(0,("0"===n?0:n.length)-Number(r))}var He=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skipInitialUIUpdate=!1,e.valueToAriaValueTextFn=null,e}return Et(e,t),e.attachTo=function(t,n){return void 0===n&&(n={}),new e(t,void 0,n)},e.prototype.getDefaultFoundation=function(){var t=this;return new Me({hasClass:function(e){return t.root.classList.contains(e)},addClass:function(e){t.root.classList.add(e)},removeClass:function(e){t.root.classList.remove(e)},addThumbClass:function(e,n){t.getThumbEl(n).classList.add(e)},removeThumbClass:function(e,n){t.getThumbEl(n).classList.remove(e)},getAttribute:function(e){return t.root.getAttribute(e)},getInputValue:function(e){return t.getInput(e).value},setInputValue:function(e,n){t.getInput(n).value=e},getInputAttribute:function(e,n){return t.getInput(n).getAttribute(e)},setInputAttribute:function(e,n,r){t.getInput(r).setAttribute(e,n)},removeInputAttribute:function(e,n){t.getInput(n).removeAttribute(e)},focusInput:function(e){t.getInput(e).focus()},isInputFocused:function(e){return t.getInput(e)===document.activeElement},getThumbKnobWidth:function(e){return t.getThumbEl(e).querySelector(".mdc-slider__thumb-knob").getBoundingClientRect().width},getThumbBoundingClientRect:function(e){return t.getThumbEl(e).getBoundingClientRect()},getBoundingClientRect:function(){return t.root.getBoundingClientRect()},isRTL:function(){return"rtl"===getComputedStyle(t.root).direction},setThumbStyleProperty:function(e,n,r){t.getThumbEl(r).style.setProperty(e,n)},removeThumbStyleProperty:function(e,n){t.getThumbEl(n).style.removeProperty(e)},setTrackActiveStyleProperty:function(e,n){t.trackActive.style.setProperty(e,n)},removeTrackActiveStyleProperty:function(e){t.trackActive.style.removeProperty(e)},setValueIndicatorText:function(e,n){t.getThumbEl(n).querySelector(".mdc-slider__value-indicator-text").textContent=String(e)},getValueToAriaValueTextFn:function(){return t.valueToAriaValueTextFn},updateTickMarks:function(e){var n=t.root.querySelector("."+we);if(n||((n=document.createElement("div")).classList.add(we),t.root.querySelector(".mdc-slider__track").appendChild(n)),e.length!==n.children.length){for(;n.firstChild;)n.removeChild(n.firstChild);t.addTickMarks(n,e)}else t.updateTickMarks(n,e)},setPointerCapture:function(e){t.root.setPointerCapture(e)},emitChangeEvent:function(e,n){t.emit("MDCSlider:change",{value:e,thumb:n})},emitInputEvent:function(e,n){t.emit("MDCSlider:input",{value:e,thumb:n})},emitDragStartEvent:function(e,n){t.getRipple(n).activate()},emitDragEndEvent:function(e,n){t.getRipple(n).deactivate()},registerEventHandler:function(e,n){t.listen(e,n)},deregisterEventHandler:function(e,n){t.unlisten(e,n)},registerThumbEventHandler:function(e,n,r){t.getThumbEl(e).addEventListener(n,r)},deregisterThumbEventHandler:function(e,n,r){t.getThumbEl(e).removeEventListener(n,r)},registerInputEventHandler:function(e,n,r){t.getInput(e).addEventListener(n,r)},deregisterInputEventHandler:function(e,n,r){t.getInput(e).removeEventListener(n,r)},registerBodyEventHandler:function(t,e){document.body.addEventListener(t,e)},deregisterBodyEventHandler:function(t,e){document.body.removeEventListener(t,e)},registerWindowEventHandler:function(t,e){window.addEventListener(t,e)},deregisterWindowEventHandler:function(t,e){window.removeEventListener(t,e)}})},e.prototype.initialize=function(t){var e=(void 0===t?{}:t).skipInitialUIUpdate;this.inputs=[].slice.call(this.root.querySelectorAll(".mdc-slider__input")),this.thumbs=[].slice.call(this.root.querySelectorAll("."+Se)),this.trackActive=this.root.querySelector(".mdc-slider__track--active_fill"),this.ripples=this.createRipples(),e&&(this.skipInitialUIUpdate=!0)},e.prototype.initialSyncWithDOM=function(){this.foundation.layout({skipUpdateUI:this.skipInitialUIUpdate})},e.prototype.layout=function(){this.foundation.layout()},e.prototype.getValueStart=function(){return this.foundation.getValueStart()},e.prototype.setValueStart=function(t){this.foundation.setValueStart(t)},e.prototype.getValue=function(){return this.foundation.getValue()},e.prototype.setValue=function(t){this.foundation.setValue(t)},e.prototype.getDisabled=function(){return this.foundation.getDisabled()},e.prototype.setDisabled=function(t){this.foundation.setDisabled(t)},e.prototype.setValueToAriaValueTextFn=function(t){this.valueToAriaValueTextFn=t},e.prototype.getThumbEl=function(t){return t===ve.END?this.thumbs[this.thumbs.length-1]:this.thumbs[0]},e.prototype.getInput=function(t){return t===ve.END?this.inputs[this.inputs.length-1]:this.inputs[0]},e.prototype.getRipple=function(t){return t===ve.END?this.ripples[this.ripples.length-1]:this.ripples[0]},e.prototype.addTickMarks=function(t,e){for(var n=document.createDocumentFragment(),r=0;r<e.length;r++){var i=document.createElement("div"),o=e[r]===me.ACTIVE?ke:Le;i.classList.add(o),n.appendChild(i)}t.appendChild(n)},e.prototype.updateTickMarks=function(t,e){for(var n=Array.from(t.children),r=0;r<n.length;r++)e[r]===me.ACTIVE?(n[r].classList.add(ke),n[r].classList.remove(Le)):(n[r].classList.add(Le),n[r].classList.remove(ke))},e.prototype.createRipples=function(){for(var t=[],e=[].slice.call(this.root.querySelectorAll("."+Se)),n=function(n){var i=e[n],o=r.inputs[n],s=Ct(Ct({},he.createAdapter(r)),{addClass:function(t){i.classList.add(t)},computeBoundingRect:function(){return i.getBoundingClientRect()},deregisterInteractionHandler:function(t,e){o.removeEventListener(t,e)},isSurfaceActive:function(){return te(o,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(t,e){o.addEventListener(t,e,ee())},removeClass:function(t){i.classList.remove(t)},updateCssVariable:function(t,e){i.style.setProperty(t,e)}}),a=new he(i,new ce(s));a.unbounded=!0,t.push(a)},r=this,i=0;i<e.length;i++)n(i);return t},e}(At),Be={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},Ve=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Be},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var n=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.float=function(t){var n=e.cssClasses,r=n.LABEL_FLOAT_ABOVE,i=n.LABEL_SHAKE;t?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.setRequired=function(t){var n=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleShakeAnimationEnd=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e}(Tt),Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},e.prototype.shake=function(t){this.foundation.shake(t)},e.prototype.float=function(t){this.foundation.float(t)},e.prototype.setRequired=function(t){this.foundation.setRequired(t)},e.prototype.getWidth=function(){return this.foundation.getWidth()},e.prototype.getDefaultFoundation=function(){var t=this;return new Ve({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},getWidth:function(){return function(t){var e=t;if(null!==e.offsetParent)return e.scrollWidth;var n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}(t.root)},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)}})},e}(At),je={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},ze=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.transitionEndHandler=function(t){r.handleTransitionEnd(t)},r}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return je},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},e.prototype.activate=function(){this.adapter.removeClass(je.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(je.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(je.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var e=this.adapter.hasClass(je.LINE_RIPPLE_DEACTIVATING);"opacity"===t.propertyName&&e&&(this.adapter.removeClass(je.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(je.LINE_RIPPLE_DEACTIVATING))},e}(Tt),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},e.prototype.activate=function(){this.foundation.activate()},e.prototype.deactivate=function(){this.foundation.deactivate()},e.prototype.setRippleCenter=function(t){this.foundation.setRippleCenter(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new ze({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},setStyle:function(e,n){return t.root.style.setProperty(e,n)},registerEventHandler:function(e,n){return t.listen(e,n)},deregisterEventHandler:function(e,n){return t.unlisten(e,n)}})},e}(At),qe={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},$e={NOTCH_ELEMENT_PADDING:8},Ge={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},Xe=function(t){function e(n){return t.call(this,Ct(Ct({},e.defaultAdapter),n))||this}return Et(e,t),Object.defineProperty(e,"strings",{get:function(){return qe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Ge},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return $e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(t){var n=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=$e.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(n)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e}(Tt),Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.notchElement=this.root.querySelector(qe.NOTCH_ELEMENT_SELECTOR);var t=this.root.querySelector("."+Ve.cssClasses.ROOT);t?(t.style.transitionDuration="0s",this.root.classList.add(Ge.OUTLINE_UPGRADED),requestAnimationFrame((function(){t.style.transitionDuration=""}))):this.root.classList.add(Ge.NO_LABEL)},e.prototype.notch=function(t){this.foundation.notch(t)},e.prototype.closeNotch=function(){this.foundation.closeNotch()},e.prototype.getDefaultFoundation=function(){var t=this;return new Xe({addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setNotchWidthProperty:function(e){t.notchElement.style.setProperty("width",e+"px")},removeNotchWidthProperty:function(){t.notchElement.style.removeProperty("width")}})},e}(At),Ye={ROOT:"mdc-text-field-character-counter"},Qe={ROOT_SELECTOR:"."+Ye.ROOT},Je=function(t){function e(n){return t.call(this,Ct(Ct({},e.defaultAdapter),n))||this}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Ye},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Qe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.setCounterValue=function(t,e){t=Math.min(t,e),this.adapter.setContent(t+" / "+e)},e}(Tt),Ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Je({setContent:function(e){t.root.textContent=e}})},e}(At),tn={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},en={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},nn={LABEL_SCALE:.75},rn=["pattern","min","max","required","step","minlength","maxlength"],on=["color","date","datetime-local","month","range","time","week"],sn=["mousedown","touchstart"],an=["click","keydown"],un=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return i.isFocused=!1,i.receivedUserInput=!1,i.valid=!0,i.useNativeValidation=!0,i.validateOnValueChange=!0,i.helperText=r.helperText,i.characterCounter=r.characterCounter,i.leadingIcon=r.leadingIcon,i.trailingIcon=r.trailingIcon,i.inputFocusHandler=function(){i.activateFocus()},i.inputBlurHandler=function(){i.deactivateFocus()},i.inputInputHandler=function(){i.handleInput()},i.setPointerXOffset=function(t){i.setTransformOrigin(t)},i.textFieldInteractionHandler=function(){i.handleTextFieldInteraction()},i.validationAttributeChangeHandler=function(t){i.handleValidationAttributeChange(t)},i}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return en},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return tn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return nn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat",{get:function(){var t=this.getNativeInput().type;return on.indexOf(t)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e,n,r;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var i=St(sn),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.registerInputInteractionHandler(s,this.setPointerXOffset)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var a=St(an),u=a.next();!u.done;u=a.next())s=u.value,this.adapter.registerTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},e.prototype.destroy=function(){var t,e,n,r;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var i=St(sn),o=i.next();!o.done;o=i.next()){var s=o.value;this.adapter.deregisterInputInteractionHandler(s,this.setPointerXOffset)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var a=St(an),u=a.next();!u.done;u=a.next())s=u.value,this.adapter.deregisterTextFieldInteractionHandler(s,this.textFieldInteractionHandler)}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput=!0)},e.prototype.handleValidationAttributeChange=function(t){var e=this;t.some((function(t){return rn.indexOf(t)>-1&&(e.styleValidity(!0),e.adapter.setLabelRequired(e.getNativeInput().required),!0)})),t.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var e=this.adapter.getLabelWidth()*nn.LABEL_SCALE;this.adapter.notchOutline(e)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var e=t.touches,n=e?e[0]:t,r=n.target.getBoundingClientRect(),i=n.clientX-r.left;this.adapter.setLineRippleTransformOrigin(i)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity(t),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},e.prototype.getValue=function(){return this.getNativeInput().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput().value=t),this.setcharacterCounter(t.length),this.validateOnValueChange){var e=this.isValid();this.styleValidity(e)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},e.prototype.setValid=function(t){this.valid=t,this.styleValidity(t);var e=!t&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(e)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation=t},e.prototype.isDisabled=function(){return this.getNativeInput().disabled},e.prototype.setDisabled=function(t){this.getNativeInput().disabled=t,this.styleDisabled(t)},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon&&this.trailingIcon.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon&&this.trailingIcon.setContent(t)},e.prototype.setcharacterCounter=function(t){if(this.characterCounter){var e=this.getNativeInput().maxLength;if(-1===e)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(t,e)}},e.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},e.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},e.prototype.styleValidity=function(t){var n=e.cssClasses.INVALID;if(t?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText){if(this.helperText.setValidity(t),!this.helperText.isValidation())return;var r=this.helperText.isVisible(),i=this.helperText.getId();r&&i?this.adapter.setInputAttr(tn.ARIA_DESCRIBEDBY,i):this.adapter.removeInputAttr(tn.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused=function(t){var n=e.cssClasses.FOCUSED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.styleDisabled=function(t){var n=e.cssClasses,r=n.DISABLED,i=n.INVALID;t?(this.adapter.addClass(r),this.adapter.removeClass(i)):this.adapter.removeClass(r),this.leadingIcon&&this.leadingIcon.setDisabled(t),this.trailingIcon&&this.trailingIcon.setDisabled(t)},e.prototype.styleFloating=function(t){var n=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(Tt),ln={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},cn={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+ln.ROOT},hn=function(t){function e(n){return t.call(this,Ct(Ct({},e.defaultAdapter),n))||this}return Et(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ln},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return cn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.adapter.getAttr("id")},e.prototype.isVisible=function(){return"true"!==this.adapter.getAttr(cn.ARIA_HIDDEN)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.isPersistent=function(){return this.adapter.hasClass(ln.HELPER_TEXT_PERSISTENT)},e.prototype.setPersistent=function(t){t?this.adapter.addClass(ln.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(ln.HELPER_TEXT_PERSISTENT)},e.prototype.isValidation=function(){return this.adapter.hasClass(ln.HELPER_TEXT_VALIDATION_MSG)},e.prototype.setValidation=function(t){t?this.adapter.addClass(ln.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(ln.HELPER_TEXT_VALIDATION_MSG)},e.prototype.showToScreenReader=function(){this.adapter.removeAttr(cn.ARIA_HIDDEN)},e.prototype.setValidity=function(t){var e=this.adapter.hasClass(ln.HELPER_TEXT_PERSISTENT),n=this.adapter.hasClass(ln.HELPER_TEXT_VALIDATION_MSG)&&!t;n?(this.showToScreenReader(),"alert"===this.adapter.getAttr(cn.ROLE)?this.refreshAlertRole():this.adapter.setAttr(cn.ROLE,"alert")):this.adapter.removeAttr(cn.ROLE),e||n||this.hide()},e.prototype.hide=function(){this.adapter.setAttr(cn.ARIA_HIDDEN,"true")},e.prototype.refreshAlertRole=function(){var t=this;this.adapter.removeAttr(cn.ROLE),requestAnimationFrame((function(){t.adapter.setAttr(cn.ROLE,"alert")}))},e}(Tt),dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this,e={addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e}};return new hn(e)},e}(At),pn={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},fn={ROOT:"mdc-text-field__icon"},gn=["click","keydown"],mn=function(t){function e(n){var r=t.call(this,Ct(Ct({},e.defaultAdapter),n))||this;return r.savedTabIndex=null,r.interactionHandler=function(t){r.handleInteraction(t)},r}return Et(e,t),Object.defineProperty(e,"strings",{get:function(){return pn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return fn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=St(gn),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.registerInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,e;try{for(var n=St(gn),r=n.next();!r.done;r=n.next()){var i=r.value;this.adapter.deregisterInteractionHandler(i,this.interactionHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",pn.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&(t.preventDefault(),this.adapter.notifyIconAction())},e}(Tt),vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundationForTextField",{get:function(){return this.foundation},enumerable:!1,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this,e={getAttr:function(e){return t.root.getAttribute(e)},setAttr:function(e,n){return t.root.setAttribute(e,n)},removeAttr:function(e){return t.root.removeAttribute(e)},setContent:function(e){t.root.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(mn.strings.ICON_EVENT,{},!0)}};return new mn(e)},e}(At),yn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e,n,r,i,o,s){void 0===t&&(t=function(t,e){return new he(t,e)}),void 0===e&&(e=function(t){return new We(t)}),void 0===n&&(n=function(t){return new dn(t)}),void 0===r&&(r=function(t){return new Ze(t)}),void 0===i&&(i=function(t){return new vn(t)}),void 0===o&&(o=function(t){return new Ue(t)}),void 0===s&&(s=function(t){return new Ke(t)}),this.input=this.root.querySelector(tn.INPUT_SELECTOR);var a=this.root.querySelector(tn.LABEL_SELECTOR);this.label=a?o(a):null;var u=this.root.querySelector(tn.LINE_RIPPLE_SELECTOR);this.lineRipple=u?e(u):null;var l=this.root.querySelector(tn.OUTLINE_SELECTOR);this.outline=l?s(l):null;var c=hn.strings,h=this.root.nextElementSibling,d=h&&h.classList.contains(en.HELPER_LINE),p=d&&h&&h.querySelector(c.ROOT_SELECTOR);this.helperText=p?n(p):null;var f=Je.strings,g=this.root.querySelector(f.ROOT_SELECTOR);!g&&d&&h&&(g=h.querySelector(f.ROOT_SELECTOR)),this.characterCounter=g?r(g):null;var m=this.root.querySelector(tn.LEADING_ICON_SELECTOR);this.leadingIcon=m?i(m):null;var v=this.root.querySelector(tn.TRAILING_ICON_SELECTOR);this.trailingIcon=v?i(v):null,this.prefix=this.root.querySelector(tn.PREFIX_SELECTOR),this.suffix=this.root.querySelector(tn.SUFFIX_SELECTOR),this.ripple=this.createRipple(t)},e.prototype.destroy=function(){this.ripple&&this.ripple.destroy(),this.lineRipple&&this.lineRipple.destroy(),this.helperText&&this.helperText.destroy(),this.characterCounter&&this.characterCounter.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.trailingIcon&&this.trailingIcon.destroy(),this.label&&this.label.destroy(),this.outline&&this.outline.destroy(),t.prototype.destroy.call(this)},e.prototype.initialSyncWithDOM=function(){this.disabled=this.input.disabled},Object.defineProperty(e.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(t){this.foundation.setValue(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.foundation.isDisabled()},set:function(t){this.foundation.setDisabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.foundation.isValid()},set:function(t){this.foundation.setValid(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.input.required},set:function(t){this.input.required=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this.input.pattern},set:function(t){this.input.pattern=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minLength",{get:function(){return this.input.minLength},set:function(t){this.input.minLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this.input.maxLength},set:function(t){t<0?this.input.removeAttribute("maxLength"):this.input.maxLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.input.min},set:function(t){this.input.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.input.max},set:function(t){this.input.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.input.step},set:function(t){this.input.step=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helperTextContent",{set:function(t){this.foundation.setHelperTextContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconAriaLabel",{set:function(t){this.foundation.setLeadingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leadingIconContent",{set:function(t){this.foundation.setLeadingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconAriaLabel",{set:function(t){this.foundation.setTrailingIconAriaLabel(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trailingIconContent",{set:function(t){this.foundation.setTrailingIconContent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useNativeValidation",{set:function(t){this.foundation.setUseNativeValidation(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prefixText",{get:function(){return this.prefix?this.prefix.textContent:null},set:function(t){this.prefix&&(this.prefix.textContent=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suffixText",{get:function(){return this.suffix?this.suffix.textContent:null},set:function(t){this.suffix&&(this.suffix.textContent=t)},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.input.focus()},e.prototype.layout=function(){var t=this.foundation.shouldFloat;this.foundation.notchOutline(t)},e.prototype.getDefaultFoundation=function(){var t=Ct(Ct(Ct(Ct(Ct({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods());return new un(t,this.getFoundationMap())},e.prototype.getRootAdapterMethods=function(){var t=this;return{addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},hasClass:function(e){return t.root.classList.contains(e)},registerTextFieldInteractionHandler:function(e,n){t.listen(e,n)},deregisterTextFieldInteractionHandler:function(e,n){t.unlisten(e,n)},registerValidationAttributeChangeHandler:function(e){var n=new MutationObserver((function(t){return e(function(t){return t.map((function(t){return t.attributeName})).filter((function(t){return t}))}(t))}));return n.observe(t.input,{attributes:!0}),n},deregisterValidationAttributeChangeHandler:function(t){t.disconnect()}}},e.prototype.getInputAdapterMethods=function(){var t=this;return{getNativeInput:function(){return t.input},setInputAttr:function(e,n){t.input.setAttribute(e,n)},removeInputAttr:function(e){t.input.removeAttribute(e)},isFocused:function(){return document.activeElement===t.input},registerInputInteractionHandler:function(e,n){t.input.addEventListener(e,n,ee())},deregisterInputInteractionHandler:function(e,n){t.input.removeEventListener(e,n,ee())}}},e.prototype.getLabelAdapterMethods=function(){var t=this;return{floatLabel:function(e){t.label&&t.label.float(e)},getLabelWidth:function(){return t.label?t.label.getWidth():0},hasLabel:function(){return Boolean(t.label)},shakeLabel:function(e){t.label&&t.label.shake(e)},setLabelRequired:function(e){t.label&&t.label.setRequired(e)}}},e.prototype.getLineRippleAdapterMethods=function(){var t=this;return{activateLineRipple:function(){t.lineRipple&&t.lineRipple.activate()},deactivateLineRipple:function(){t.lineRipple&&t.lineRipple.deactivate()},setLineRippleTransformOrigin:function(e){t.lineRipple&&t.lineRipple.setRippleCenter(e)}}},e.prototype.getOutlineAdapterMethods=function(){var t=this;return{closeOutline:function(){t.outline&&t.outline.closeNotch()},hasOutline:function(){return Boolean(t.outline)},notchOutline:function(e){t.outline&&t.outline.notch(e)}}},e.prototype.getFoundationMap=function(){return{characterCounter:this.characterCounter?this.characterCounter.foundationForTextField:void 0,helperText:this.helperText?this.helperText.foundationForTextField:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundationForTextField:void 0,trailingIcon:this.trailingIcon?this.trailingIcon.foundationForTextField:void 0}},e.prototype.createRipple=function(t){var e=this,n=this.root.classList.contains(en.TEXTAREA),r=this.root.classList.contains(en.OUTLINED);if(n||r)return null;var i=Ct(Ct({},he.createAdapter(this)),{isSurfaceActive:function(){return te(e.input,":active")},registerInteractionHandler:function(t,n){e.input.addEventListener(t,n,ee())},deregisterInteractionHandler:function(t,n){e.input.removeEventListener(t,n,ee())}});return t(this.root,new ce(i))},e}(At);class bn{element;constructor(){this.element={phrase:document.getElementById("phrase"),pinyin:document.getElementById("pinyin"),jyutping:document.getElementById("jyutping"),definitions:document.getElementById("definitions")}}get phrase(){return this.element.phrase.textContent}set phrase(t){this.element.phrase.textContent=t}set pinyin(t){this.element.pinyin.textContent=t}set jyutping(t){this.element.jyutping.textContent=t}set definitions(t){this.element.definitions.replaceChildren();for(const e of t){const t=document.createElement("li");t.classList.add("mdc-list-item");const n=document.createElement("span");n.classList.add("mdc-list-item__text"),n.textContent=e,t.appendChild(n),this.element.definitions.appendChild(t)}}}const _n=new Ot(document.querySelector(".mdc-linear-progress"));class En{char_queue;color;entry;enable_outline;writer;db;charDataLoader;defaultCharDataLoader;panel;partitions;partition_lengths;probabilities;type;buffer_size;totalMistakes;constructor(t){this.enable_outline=!1;const e=document.getElementById("target"),n=Math.min(e.clientWidth,e.clientHeight);this.db=t,this.charDataLoader=(t,e,n)=>{const r=performance.now();this.db.version>0?this.db.get("hanzi-writer-data",t).then((i=>{if(i){e(i);const n=performance.now();console.debug(`Load ${t} from db: ${n-r} ms`)}else{const e=new Error(`Couldn't find the requested char ${t} in hanzi-writer-data.`);n(e)}})).catch((t=>{n(t)})):this.defaultCharDataLoader(t,e,n)},this.char_queue=[],this.partitions=[],this.partition_lengths=[],this.probabilities=[],this.buffer_size=0,this.type="t",this.color="",this.panel=new bn,this.entry=null,this.totalMistakes=0,this.writer=vt.create(e.id,"",{width:n,height:n,showCharacter:!1,showOutline:!1,showHintAfterMisses:1,leniency:1.5,highlightOnComplete:!0,renderer:"svg",onLoadCharDataError:t=>{console.warn(t),this.writer._options.onComplete({character:this.writer._char,totalMistakes:0})}}),this.defaultCharDataLoader=this.writer._options.charDataLoader,this.writer._options.charDataLoader=this.charDataLoader,window.addEventListener("resize",(()=>{this.resize()})),console.log(this)}updateEntry(){this.panel.phrase="",this.char_queue.push(...this.entry[this.type].split("").reverse()),this.panel.pinyin=this.entry.p.join(", "),this.panel.jyutping=this.entry.j.join(", ")||"";const t=[];for(const e of this.entry.d)t.push(e.replaceAll(new RegExp(`[${this.entry.t}]`,"g"),"").replaceAll(new RegExp(`[${this.entry.s}]`,"g"),""));this.entry.h&&t.push("HSK "+this.entry.h),this.panel.definitions=t}async nextEntry(){if(this.entry)if(this.totalMistakes<=1){const t=this.db.transaction("partitions","readwrite"),e=[];if(this.entry.correct?this.entry.correct++:this.entry.correct=1,this.entry.correct>=2)this.partitions[8].push(this.entry),e.push(t.store.put(this.partitions[8],"learned"));else if(this.entry.correct>=1){const t=0;this.partitions[9].splice(t,0,this.entry)}else{const t=Math.floor(.8*this.partitions[9].length);this.partitions[9].splice(t,0,this.entry)}e.push(t.store.put(this.partitions[9],"buffer")),e.push(t.done)}else{this.entry.correct=0;const t=Math.floor(.8*this.partitions[9].length);this.partitions[9].splice(t,0,this.entry),this.db.put("partitions",this.partitions[9],"buffer")}let t=[],e=1;for(let n=0;n<this.partitions[9].length;n++)t.push(e/2),e/=2;t=t.reverse();const n=Yt(t),r=this.partitions[9][n];this.partitions[9].splice(n),this.entry=r,this.totalMistakes=0}updateProgress(){const t=this.partition_lengths.filter(((t,e)=>this.probabilities[e]>0?t:0)).reduce(((t,e)=>t+e),0),e=this.partitions.map((t=>t.length)).filter(((t,e)=>this.probabilities[e]>0?t:0)).reduce(((t,e)=>t+e),0)+this.partitions[9].filter((t=>t.h?this.probabilities[t.h]>0?1:0:this.probabilities[0]>0?1:0)).length;console.log(e,t),_n.progress=1-e/t}async load(){const t=this.db.transaction(["partitions","partition-lengths"],"readonly"),e=[];for(let n=0;n<=7;n++)e.push([t.objectStore("partitions").get(n.toString()),t.objectStore("partition-lengths").get(n.toString())]);e.push([t.objectStore("partitions").get("learned"),t.objectStore("partition-lengths").get("learned")]),e.push([t.objectStore("partitions").get("buffer"),t.objectStore("partition-lengths").get("buffer")]);const n=await Promise.all(e.map((async t=>await Promise.all(t))));this.partitions=n.map((([t])=>t)),this.partition_lengths=n.map((([,t])=>t)),this.buffer_size=await this.db.get("config","buffer_size"),await Promise.all([this.updateProbability(),this.updateType(),this.updateTheme()])}async updateProbability(){this.probabilities=await this.db.get("config","probabilities")}async updateType(){"simplified"===await this.db.get("config","type")?this.type="s":this.type="t"}async updateTheme(){this.color=await this.db.get("config","color");const t=bt()(this.color).hsv(),e={stroke:t.lightness(40).hex(),background:t.lightness(95).hex(),outline:t.lightness(80).hex(),highlight:t.lightness(90).hex(),primary:t.lightness(20).hex()};document.documentElement.style.setProperty("--mdc-theme-primary",e.primary),document.documentElement.style.setProperty("--mdc-theme-secondary",e.stroke),document.documentElement.style.setProperty("--mdc-theme-background",e.background),document.documentElement.style.setProperty("--mdc-theme-surface",e.outline),this.writer.updateColor("strokeColor",e.stroke),this.writer.updateColor("highlightColor",e.highlight),this.writer.updateColor("outlineColor",e.outline),this.writer.updateColor("drawingColor",e.primary)}async updateBuffer(){if(this.partitions[9].length<this.buffer_size){const t=new Set;for(;this.partitions[9].length<this.buffer_size;){const e=Yt(this.probabilities),n=Qt(this.partitions[e]);n&&(this.partitions[9].push(n),t.add(e))}const e=this.db.transaction("partitions","readwrite"),n=[];for(const r of t)n.push(e.store.put(this.partitions[r],r.toString()));n.push(e.store.put(this.partitions[9],"buffer")),n.push(e.done),Promise.all(n)}}async flushBuffer(){const t=new Set;for(;this.partitions[9].length>0;){const e=this.partitions[9].pop();let n=-1;e.h?(this.partitions[e.h].push(e),n=e.h):e.correct&&e.correct,t.add(n)}const e=this.db.transaction("partitions","readwrite"),n=[];for(const r of t)n.push(e.store.put(this.partitions[r],r.toString()));n.push(e.store.put(this.partitions[9],"buffer")),n.push(e.done)}async render(){this.resize(),await this.updateBuffer(),await this.nextEntry(),this.updateEntry(),_n.determinate=!0,this.updateProgress(),this.update_writer(),this.writer.quiz({onComplete:async t=>{this.panel.phrase+=t.character,this.totalMistakes+=t.totalMistakes,setTimeout((()=>{this.update_writer()}),1e3)}})}async update_writer(){for(;;){0===this.char_queue.length&&(await this.nextEntry(),await this.updateBuffer(),this.updateEntry(),this.updateProgress());try{this.writer.setCharacter(this.char_queue.pop()),this.entry?.correct&&this.entry?.correct>0?this.writer.hideOutline():this.writer.showOutline();break}catch(t){console.error(t)}}this.writer.quiz()}resize(){const t=document.getElementById("target"),e=Math.min(t.clientWidth,t.clientHeight);this.writer.updateDimensions({width:e,height:e})}}!async function(){_n.determinate=!1;const t=new Ee(document.querySelector(".mdc-dialog")),e=document.getElementById("button"),n=(await Kt.build()).db,r=new En(n);if(await r.load(),r.render(),e.addEventListener("click",(()=>{t.open();const e=document.getElementById("radio-t"),n=document.getElementById("radio-s");"t"===r.type?(e.checked=!0,n.checked=!1):(e.checked=!1,n.checked=!0),setTimeout((()=>{for(const[t,e]of["dictionary","hsk-1","hsk-2","hsk-3","hsk-4","hsk-5","hsk-6","hsk-7","learned"].entries())new He(document.getElementById(`probability-${e}`)).setValue(r.probabilities[t]);new yn(document.getElementById("tolerance-textfield")),new yn(document.getElementById("color-textfield")).value=r.color}),500)})),t.root.querySelector(".mdc-dialog__close").addEventListener("click",(()=>{t.close()})),t.listen("MDCDialog:closing",(async()=>{const t=document.getElementById("radio-t"),e=n.transaction("config","readwrite"),i=[];t.checked?"t"!==r.type&&(r.type="t",i.push(e.store.put("t","traditional"))):"s"!==r.type&&(r.type="s",i.push(e.store.put("t","simplified")));const o=new yn(document.getElementById("color-textfield"));o.value!==r.color&&i.push(e.store.put(o.value,"color")),i.length>0&&(i.push(e.done),await Promise.all(i),r.updateTheme())})),"serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");console.log("Service worker registration succeeded:",t)}catch(t){console.log("Service worker registration failed:",t)}else console.log("Service workers are not supported.")}()})()})();